<!DOCTYPE html><html lang="en"><head><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="preload" as="image" href="/favicon.svg"><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-V452DW6JPH"></script><link rel="dns-prefetch" href="https://www.googletagmanager.com/"><link href="https://www.googletagmanager.com/gtag/js?id=G-V452DW6JPH" rel="preload" as="script"><link rel="preload" as="font" href="/fonts/inter.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/inconsolata.woff2" type="font/woff2" crossorigin="anonymous"><link rel="preload" as="font" href="/fonts/shantell.woff2" type="font/woff2" crossorigin="anonymous"><title>Agents Guide | Synclets</title><meta name="description" content="This file follows the [agents.md](https://agents.md/) specification for AI agent context. If you&#x27;re a human reading this, it provides a comprehensive overview of the Synclets project for AI assistants working with the codebase."><meta property="og:type" content="website"><meta property="og:title" content="Agents Guide | Synclets"><meta property="og:description" content="This file follows the [agents.md](https://agents.md/) specification for AI agent context. If you&#x27;re a human reading this, it provides a comprehensive overview of the Synclets project for AI assistants working with the codebase."><meta property="og:url" content="https://synclets.org/guides/agents-guide/"><meta property="og:image" content="https://synclets.org/favicon.png"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Agents Guide | Synclets"><meta name="twitter:description" content="This file follows the [agents.md](https://agents.md/) specification for AI agent context. If you&#x27;re a human reading this, it provides a comprehensive overview of the Synclets project for AI assistants working with the codebase."><meta name="twitter:site" content="@tinybasejs"><meta name="twitter:image" content="https://synclets.org/favicon.png"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="canonical" href="https://synclets.org/guides/agents-guide/"><link rel="stylesheet" href="/css/index.css"><script src="/js/app.js"></script></head><body><header><a href="/"><img src="/favicon.svg" alt="Synclets logo"><span>Synclets</span></a><nav><ul><li><a href="/guides/">Guides</a></li><li><a href="/api/">API</a></li><li><a href="https://github.com/tinyplex/synclets">GitHub</a></li></ul></nav><span id="dark"></span></header><main><nav><ul><li id="root" class="parent open"><span></span><a href="/">Synclets</a><ul><li id="G" class="parent open"><span></span><a href="/guides/">Guides</a><ul><li id="AG" class="current"><span></span><a href="/guides/agents-guide/">Agents Guide</a></li><li id="R"><span></span><a href="/guides/releases/">Releases</a></li><li id="TB" class="parent"><span></span><a href="/guides/the-basics/">The Basics</a></li></ul></li><li id="api" class="parent"><span></span><a href="/api/">API</a></li></ul></li></ul></nav><article><nav><ul><li><a href="/">Synclets</a></li><li><a href="/guides/">Guides</a></li><li><a href="/guides/agents-guide/">Agents Guide</a></li></ul></nav><section class="s1" id="/guides/agents-guide/" data-id="AG"><h1>Agents Guide</h1><p>This file follows the <a href="https://agents.md/">agents.md</a> specification for AI agent context. If you&#x27;re a human reading this, it provides a comprehensive overview of the Synclets project for AI assistants working with the codebase.</p><h3 id="overview">Overview</h3><p><strong>Synclets</strong> is an open, storage-agnostic sync engine development kit. It is a TypeScript library that provides a flexible synchronization framework for local-first applications. It&#x27;s designed to make it easy to synchronize data between different parts of your applications, whether between local storage and remote servers, between different devices, or even across worker boundaries. The library is modular, extensible, and not locked to any specific storage solution, transport layer, or vendor.</p><ul><li><strong>Website</strong>: <a href="https://synclets.org">https://synclets.org</a></li><li><strong>Repository</strong>: <a href="https://github.com/tinyplex/synclets">https://github.com/tinyplex/synclets</a></li><li><strong>Documentation</strong>: <a href="https://synclets.org/api/">https://synclets.org/api/</a></li><li><strong>License</strong>: MIT</li><li><strong>Author</strong>: James Pearce (@jamesgpearce)</li></ul><h3 id="core-concepts"><a href="/guides/the-basics/core-concepts/">Core Concepts</a></h3><h4 id="synclets">Synclets</h4><p>A <a href="/api/synclets/interfaces/core/synclet/"><code>Synclet</code></a> is the main synchronization unit that coordinates data sync between storage and transport layers. It combines:</p><ul><li><strong><a href="/api/synclets/type-aliases/dataconnector/data/"><code>Data</code></a> Connector</strong>: Manages the actual application data storage</li><li><strong><a href="/api/synclets/type-aliases/metaconnector/meta/"><code>Meta</code></a> Connector</strong>: Manages synchronization metadata (versions, checksums, etc.)</li><li><strong><a href="/api/synclets/interfaces/core/transport/"><code>Transport</code></a></strong>: Handles communication between different <a href="/api/synclets/interfaces/core/synclet/"><code>Synclet</code></a> instances</li></ul><p>Synclets work by tracking changes to data, propagating those changes to remote instances, and resolving conflicts when they occur.</p><h4 id="connectors">Connectors</h4><p>Connectors provide an abstraction layer over different storage backends. They come in two types:</p><ul><li><strong><a href="/api/synclets/type-aliases/dataconnector/data/"><code>Data</code></a> Connectors</strong>: Store and retrieve actual application data</li><li><strong><a href="/api/synclets/type-aliases/metaconnector/meta/"><code>Meta</code></a> Connectors</strong>: Store synchronization metadata separately</li></ul><p>This separation allows mixing and matching different storage backends for data and metadata based on your needs.</p><h4 id="transports">Transports</h4><p>Transports handle the communication layer between <a href="/api/synclets/interfaces/core/synclet/"><code>Synclet</code></a> instances. They define how data changes are sent and received between different parts of your application, whether across network boundaries or within the same process.</p><h3 id="key-features">Key Features</h3><h4 id="storage-agnostic">Storage Agnostic</h4><p>Multiple storage backends supported via Connectors:</p><ul><li><strong>Browser</strong>: localStorage, sessionStorage, IndexedDB</li><li><strong>Databases</strong>: PGlite, SQLite3</li><li><strong>TinyBase</strong>: Integration with TinyBase reactive data store</li><li><strong>Files</strong>: Node.js file system</li><li><strong>Memory</strong>: In-memory storage for testing</li></ul><h4 id="flexible-transport">Flexible <a href="/api/synclets/interfaces/core/transport/"><code>Transport</code></a></h4><p>Multiple transport layers supported:</p><ul><li><strong>WebSockets</strong>: Real-time sync over WebSocket connections (client and server)</li><li><strong>BroadcastChannel</strong>: Same-origin tab synchronization</li><li><strong>Memory</strong>: In-process communication for testing</li></ul><h4 id="modular-architecture">Modular Architecture</h4><p>Each connector and transport is independently importable, allowing tree-shaking and minimal bundle sizes. Only import what you need.</p><h4 id="type-safety">Type Safety</h4><p>Strong TypeScript support throughout the library with comprehensive type definitions and compile-time validation.</p><h3 id="architecture">Architecture</h3><h4 id="modular-design">Modular Design</h4><p>Synclets uses a modular architecture where each feature is an independent module that can be imported separately:</p><pre><code>synclets                          # Core synclet module
synclets/core                     # Core types and utilities
synclets/browser                  # Browser connectors and transport (LocalStorage, SessionStorage, BroadcastChannel)
synclets/durable-object           # Durable Object transport
synclets/fs                       # File system connectors
synclets/memory                   # Memory connectors and transport
synclets/pglite                   # PGlite database connectors
synclets/server                   # Server utilities
synclets/sqlite3                  # SQLite3 database connectors
synclets/tinybase                 # TinyBase connectors
synclets/ws                       # WebSocket transport and broker
</code></pre><h4 id="type-system">Type System</h4><p>Strong TypeScript support with:</p><ul><li>Generic types for extensibility</li><li>Conditional types for type-safe APIs</li><li>Comprehensive interface definitions</li><li>Full IntelliSense support</li></ul><h4 id="build-system">Build System</h4><ul><li><strong>Gulp</strong>: Build orchestration</li><li><strong>TypeScript</strong>: Source language with strict mode</li><li><strong>Rollup</strong>: Bundling</li><li><strong>ESM</strong>: Primary module format</li><li><strong>Tree-shaking</strong>: Modular design for minimal bundles</li></ul><h3 id="development">Development</h3><h4 id="prerequisites">Prerequisites</h4><ul><li>Node.js &gt;= 23.10.0</li><li>npm &gt;= 10.9.2</li></ul><h4 id="setup">Setup</h4><pre><code><span class="function">git</span> clone https://github.com/tinyplex/synclets.git
<span class="builtin">cd</span> synclets
<span class="function">npm</span> <span class="function">install</span>
</code></pre><h4 id="common-commands">Common Commands</h4><pre><code><span class="function">npm</span> run compileAndTestUnit  <span class="comment"># Compile and run unit tests</span>
<span class="function">npm</span> run testUnitFast        <span class="comment"># Quick test iteration</span>
<span class="function">npm</span> run lint                <span class="comment"># Run ESLint</span>
<span class="function">npm</span> run spell               <span class="comment"># Spell check</span>
<span class="function">npm</span> run preCommit           <span class="comment"># Full pre-commit check</span>
<span class="function">npm</span> run compileDocs         <span class="comment"># Generate API documentation</span>
<span class="function">npm</span> run serveDocs           <span class="comment"># Preview documentation locally</span>
</code></pre><h4 id="testing">Testing</h4><ul><li><strong>Framework</strong>: Vitest</li><li><strong>Coverage</strong>: Istanbul coverage reporting</li><li><strong>Types</strong>: Unit, performance, end-to-end, production</li><li><strong>Environment</strong>: happy-dom (unit), puppeteer (e2e)</li></ul><h4 id="code-style">Code Style</h4><ul><li><strong>ESLint</strong>: Enforced with strict rules</li><li><strong>Prettier</strong>: Automatic formatting</li><li><strong>Max line length</strong>: 80 characters</li><li><strong>Quotes</strong>: Single quotes (template literals allowed)</li><li><strong>Semicolons</strong>: Required</li><li><strong>Object spacing</strong>: No spaces in braces <code>{key: value}</code></li></ul><h3 id="project-structure">Project Structure</h3><pre><code>synclets/
â”œâ”€â”€ src/                       # Source code
â”‚   â”œâ”€â”€ @types/                # TypeScript declarations
â”‚   â”œâ”€â”€ browser/               # Browser storage and transport (LocalStorage, SessionStorage, BroadcastChannel)
â”‚   â”œâ”€â”€ core/                  # Core synclet implementation
â”‚   â”œâ”€â”€ database/              # Shared SQL utilities
â”‚   â”œâ”€â”€ durable-object/        # Cloudflare Durable Object transport
â”‚   â”œâ”€â”€ fs/                    # File system connectors
â”‚   â”œâ”€â”€ memory/                # Memory connectors and transport
â”‚   â”œâ”€â”€ pglite/                # PGlite database connectors
â”‚   â”œâ”€â”€ server/                # Server utilities
â”‚   â”œâ”€â”€ sqlite3/               # SQLite3 database connectors
â”‚   â”œâ”€â”€ tinybase/              # TinyBase connectors
â”‚   â”œâ”€â”€ ws/                    # WebSocket transport and broker
â”‚   â”œâ”€â”€ utils/                 # Shared utilities
â”‚   â”œâ”€â”€ common/                # Common code
â”‚   â””â”€â”€ index.ts               # Main entry point
â”œâ”€â”€ test/                      # Tests
â”‚   â”œâ”€â”€ unit/                  # Unit tests
â”‚   â”œâ”€â”€ perf/                  # Performance tests
â”‚   â”œâ”€â”€ e2e/                   # End-to-end tests
â”‚   â””â”€â”€ prod/                  # Production build tests
â”œâ”€â”€ docs/                      # Generated documentation
â”œâ”€â”€ dist/                      # Build output
â”œâ”€â”€ site/                      # Documentation site source
â”œâ”€â”€ servers/                   # Example servers
â”œâ”€â”€ gulpfile.mjs               # Build configuration
â”œâ”€â”€ vitest.config.ts           # Test configuration
â”œâ”€â”€ eslint.config.js           # Linting rules
â””â”€â”€ tsconfig.json              # TypeScript config
</code></pre><h3 id="contributing">Contributing</h3><p>Contributions are welcome! This is a spare-time project, so response times may vary.</p><p><strong>Requirements</strong>:</p><ol><li>Follow the Prettier and ESLint configurations</li><li>Write tests for new features</li><li>Update documentation for API changes</li><li>Add examples for new features</li></ol><p><strong>Process</strong>:</p><ol><li>Fork the repository</li><li>Create a feature branch</li><li>Make your changes with tests</li><li>Run <code>npm run preCommit</code> to verify</li><li>Submit a pull request</li></ol><p>See <a href="CONTRIBUTING.md">CONTRIBUTING.md</a> for details.</p><h3 id="community">Community</h3><ul><li><strong>Discussions</strong>: <a href="https://github.com/tinyplex/synclets/discussions">https://github.com/tinyplex/synclets/discussions</a></li><li><strong>Issues</strong>: <a href="https://github.com/tinyplex/synclets/issues">https://github.com/tinyplex/synclets/issues</a></li><li><strong>Bluesky</strong>: <a href="https://bsky.app/profile/synclets.bsky.social">https://bsky.app/profile/synclets.bsky.social</a></li><li><strong>Twitter/X</strong>: <a href="https://x.com/syncletsjs">https://x.com/syncletsjs</a></li></ul><h3 id="use-cases">Use Cases</h3><p>Synclets is ideal for:</p><ul><li><strong>Local-first applications</strong>: Apps that work offline and sync later</li><li><strong>Real-time collaboration</strong>: Multi-user applications with distributed sync</li><li><strong>Multi-device sync</strong>: Keeping data synchronized across devices</li><li><strong>Cross-worker communication</strong>: Syncing data across web workers</li><li><strong>Progressive Web Apps</strong>: Offline-capable web applications</li><li><strong>Mobile apps</strong>: React Native apps with flexible storage</li><li><strong>Edge computing</strong>: Cloudflare Workers, Durable Objects</li><li><strong>Microservices</strong>: Distributed data synchronization</li></ul><h3 id="performance">Performance</h3><ul><li>Modular design for minimal bundle sizes</li><li>Efficient change tracking and propagation</li><li>Optimized for both bundle size and runtime performance</li><li>Tree-shakeable exports</li><li>Zero unnecessary dependencies</li></ul><h3 id="related-projects">Related Projects</h3><ul><li><strong>TinyBase</strong>: Reactive data store and sync engine (<a href="https://tinybase.org">https://tinybase.org</a>)</li><li><strong>TinyWidgets</strong>: Widget toolkit for rich UIs (<a href="https://tinywidgets.org">https://tinywidgets.org</a>)</li><li><strong>TinyTick</strong>: Task orchestration library (<a href="https://tinytick.org">https://tinytick.org</a>)</li></ul><h3 id="license">License</h3><p>MIT License - see <a href="LICENSE">LICENSE</a> file for details.</p><hr><p><strong>Note for AI Agents</strong>: Synclets follows similar patterns to TinyBase, including utility function wrappers for consistency and tree-shaking. Always use factory functions (<code>createSynclet</code>, <code>createPgliteConnectors</code>, etc.) with builder pattern chaining. Follow the strict 80-character line length. See <code>.github/copilot-instructions.md</code> for detailed coding patterns if available.</p><h3 id="documentation-system">Documentation System</h3><p>Synclets has a documentation system that generates the website from source code and markdown files, similar to TinyBase.</p><h4 id="documentation-structure">Documentation Structure</h4><ol><li><p><strong>Type Definitions (<code>src/@types/*/</code>)</strong>: TypeScript <code>.d.ts</code> files contain the API type definitions. <strong>Never add comments directly to <code>.d.ts</code> files</strong>.</p></li><li><p><strong>Documentation Files (<code>src/@types/*/docs.js</code>)</strong>: Companion <code>docs.js</code> files sit alongside <code>.d.ts</code> files. Use <code>///</code> convention to document types and functions. These are stitched together at build time to generate documentation.</p></li><li><p><strong>Guide Files (<code>site/guides/*/</code>)</strong>: Markdown files in the <code>site/guides/</code> directory. These are source files for guides on the website.</p></li><li><p><strong>Generated Files</strong>: <code>/releases.md</code> and <code>/readme.md</code> in the root are <strong>GENERATED</strong> from source files in <code>/site/</code>. <strong>Never edit the generated files directly</strong>.</p></li></ol><h4 id="documentation-testing">Documentation Testing</h4><p>Synclets uses automated tests that validate inline code examples in documentation (if implemented):</p><pre><code>npx vitest run ./test/unit/documentation.test.ts <span class="parameter">--retry</span><span class="operator">=</span><span class="number">0</span>
</code></pre><p><strong>How it works</strong>:</p><ul><li>Extracts all code blocks from markdown files and <code>docs.js</code> files</li><li>Concatenates all examples from each file together</li><li>Parses and executes them to ensure they work</li><li>This means examples in the same file share scope</li></ul><p><strong>Critical constraints</strong>:</p><ul><li>Don&#x27;t redeclare variables across examples in the same file</li><li>First example can declare <code>const synclet = createSynclet(...)</code>, subsequent examples reuse it</li><li>Include necessary imports in examples that use them</li><li>Avoid async operations in examples unless necessary</li><li>Keep examples simple and focused</li></ul><p><strong>Common pitfalls</strong>:</p><ul><li>âŒ Declaring <code>const synclet</code> multiple times in the same file</li><li>âŒ Using undefined functions (forgot import statement)</li><li>âœ… First example: <code>const synclet = createSynclet(...)</code></li><li>âœ… Later examples: <code>await synclet.[</code>start<code>](/api/synclets/interfaces/core/synclet/methods/lifecycle/start/)()</code> (reuses existing synclet)</li></ul><h4 id="adding-new-documentation">Adding New Documentation</h4><ol><li><strong>API Documentation</strong>: Edit <code>docs.js</code> file next to the type definition</li><li><strong>Guide Content</strong>: Edit markdown files in <code>/site/guides/</code></li><li><strong>Release Notes</strong>: Edit <code>/site/guides/2_releases.md</code> (not <code>/releases.md</code>)</li><li><strong>Always run documentation tests</strong> after changes to verify examples work</li></ol><h3 id="current-status">Current Status</h3><p>Synclets is in <strong>pre-alpha</strong> development. The core functionality is in place with:</p><ul><li>âœ… Core synclet implementation</li><li>âœ… Multiple connector types (browser, database, file, memory, TinyBase)</li><li>âœ… Multiple transport types (WebSocket, BroadcastChannel, memory)</li><li>âœ… Basic test suites</li><li>âœ… Initial documentation</li><li>ğŸš§ More connectors and transports planned</li><li>ğŸš§ More examples needed</li><li>ğŸš§ Production hardening in progress</li></ul><p>The project is under active development, and APIs may change before the 1.0 release.</p></section></article><aside></aside></main><footer><nav><a id="gh" href="https://github.com/tinyplex/synclets" target="_blank" rel="noreferrer">GitHub</a><a id="bs" href="https://bsky.app/profile/synclets.bsky.social" target="_blank" rel="noreferrer">Bluesky</a><a id="tw" href="https://x.com/syncletsjs" target="_blank" rel="noreferrer">X / Twitter</a></nav><nav><a href="/">Synclets <span id="version"></span></a> Â© 2025-</nav></footer><script>window.dataLayer=window.dataLayer||[];function g(){dataLayer.push(arguments);}g('js',new Date());g('config','G-V452DW6JPH');</script></body></html>
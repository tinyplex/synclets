"use strict";(()=>{var Ee="v0.0.1";var Ao="TinyBase",zs=document,Se=()=>{addEventListener("load",()=>{let t=xs("#version");t.innerText=Ee,t.style.width=t.scrollWidth+"px"})},bo=null,pe=()=>bo??=xs("body > main > nav"),zo=null,Ce=()=>zo??=xs("body > main > article"),Ks=t=>t.preventDefault(),xs=t=>zs.querySelector(t),bs=(t,n)=>t.querySelector(n),jo=t=>zs.getElementById(t),ns=(t,n,c={},i)=>{let a=zs.createElement(t);return Object.entries(c).forEach(d=>a.setAttribute(...d)),i!=null&&(a.innerText=i),n!=null?n.appendChild(a):a},qs=(t,n)=>t.classList.add(n);var ft=(t,n)=>t.classList.remove(n),me=(t,n,c)=>t.classList.toggle(n)?c():0,ht=(t,n=!0)=>{let c=pe();["?","#"].forEach(i=>{t.includes(i)&&(t=t.substring(0,t.indexOf(i)))}),fetch(`${t}nav.json`).then(i=>i.json()).then(i=>{ft(bs(c,"li.current"),"current"),ye(i,bs(c,"ul"))}),fetch(`${t}article.html`).then(i=>i.text()).then(i=>{let a=Ce();a.innerHTML=i,a.scrollTo(0,0),cn()}),n&&history.pushState(null,"",t)},cn=()=>{let t=bs(Ce(),":scope iframe"),n=t?.parentElement;if(t==null||n==null)return;let c=n.insertBefore(ns("form",null,{action:"https://codepen.io/pen/define",method:"post",target:"_blank"}),t);n.insertBefore(ns("a",null,{id:"penEdit"},"Open this demo in CodePen"),t).onclick=()=>{c.childNodes.length==0?fetch("pen.json").then(i=>i.text()).then(i=>{ns("input",c,{type:"hidden",name:"data",value:i}),c.submit()}):c.submit()}},ye=({i:t,n,u:c,r:i,c:a,p:d,o:L,_:A},$)=>{let p=pe(),E=jo(t);if(E==null){E=ns("li",$,{id:t}),ns("span",E);let f=ns("a",E,{href:c});i?ns("code",f,{},n):f.innerText=n,d&&qs(E,"parent")}if(L&&qs(E,"open"),A!=null){let f=bs(E,"ul")??ns("ul",E);A.forEach(u=>{ye(u,f)})}if(a){qs(E,"current"),zs.title=`${n} | ${Ao}`;let f=E.getBoundingClientRect(),u=p.getBoundingClientRect();f.top<u.top?p.scrollBy(0,f.top-u.top):f.bottom>u.bottom&&p.scrollBy(0,Math.min(f.bottom-u.bottom,f.top-u.top))}};var js="dark",rn="light",ln="auto",Re=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),n=()=>{let c=localStorage.getItem(js)??ln;xs("#dark")?.setAttribute("class",c),xs("html").className=c==js||c==ln&&t.matches?js:rn};t.addEventListener("change",n),window.addEventListener("storage",c=>{c.storageArea==localStorage&&c.key==js&&n()}),addEventListener("load",()=>{xs("#dark").addEventListener("click",()=>{let c=localStorage.getItem(js);localStorage.setItem(js,c==js?rn:c==rn?ln:js),n()}),n()}),n()};var He=t=>typeof t;var Go=He(""),Ve=t=>""+t,ys=t=>t==null,Js=(t,n,c)=>ys(t)?c?.():n(t),Wo=t=>He(t)==Go,ut=t=>Array.isArray(t),_s=t=>t.length,Yo=(t,n)=>t.test(n),xe=(t,n)=>t.every(n),ko=(t,n)=>_s(t)===_s(n)&&xe(t,(c,i)=>n[i]===c),Me=(t,n)=>xe(t,(c,i)=>i==0||n(t[i-1],c)<=0),ve=(t,n)=>t.sort(n),$s=(t,n)=>t.forEach(n),Bo=(t,n)=>t.map(n),Uo=t=>_s(t)==0,qo=(t,n,c)=>t.reduce(n,c),De=(t,...n)=>t.push(...n),Ko=t=>t.shift(),_e=t=>n=>qo(fn(n),(c,i)=>c+t(i),0),Fe=t=>t?.size??0,Pe=_e(Fe),Jo=_e(Pe),tt=(t,n)=>t?.has(n)??!1,dt=t=>ys(t)||Fe(t)==0,fn=t=>[...t?.values()??[]],Ne=t=>t.clear(),ds=(t,n)=>t?.forEach(n),nt=(t,n)=>t?.delete(n),$o=Object,Zo=$o.freeze,es=t=>new Map(t),Ae=t=>[...t?.keys()??[]],k=(t,n)=>t?.get(n),gt=(t,n)=>ds(t,(c,i)=>n(i,c)),Y=(t,n,c)=>ys(c)?(nt(t,n),t):t?.set(n,c),be=(t,n,c,i)=>(tt(t,n)?i?.(k(t,n)):Y(t,n,c()),k(t,n)),an=(t,n,c,i,a=0)=>Js((c?be:k)(t,n[a],a>_s(n)-2?c:es),d=>{if(a>_s(n)-2)return i?.(d)&&Y(t,n[a]),d;let L=an(d,n,c,i,a+1);return dt(d)&&Y(t,n[a]),L}),Gs=t=>new Set(ut(t)||ys(t)?t:[t]),Ds=(t,n)=>t?.add(n),Oo=(t,n,c,i,a)=>{let d=t.hasRow,L=es(),A=es(),$=es(),p=es(),E=es(),f=es(),u=()=>t,y=()=>Ae(L),M=C=>gt(A,C),R=C=>tt(A,C),x=C=>k(L,C),B=C=>k(A,C),Ts=(C,z)=>Y(A,C,z),Ls=(C,z,...cs)=>{let O=be(f,C,Gs);return $s(cs,S=>Ds(O,S)&&z&&t.callListener(S)),cs},Vs=(C,...z)=>Js(k(f,C),cs=>{$s(Uo(z)?fn(cs):z,O=>{t.delListener(O),nt(cs,O)}),dt(cs)&&Y(f,C)}),Cs=(C,z)=>{Y(L,C,z),tt(A,C)||(Y(A,C,n()),Y(p,C,es()),Y(E,C,es()),a($))},Ms=(C,z,cs,O,S)=>{Cs(C,z);let P=es(),Q=es(),X=k(p,C),is=k(E,C),Es=F=>{let J=Ss=>t.getCell(z,F,Ss),I=k(X,F),ps=d(z,F)?c(O(J,F)):void 0;if(I===ps||ut(I)&&ut(ps)&&ko(I,ps)||Y(P,F,[I,ps]),!ys(S)){let Ss=k(is,F),vs=d(z,F)?S(J,F):void 0;Ss!=vs&&Y(Q,F,vs)}},gs=F=>{cs(()=>{ds(P,([,J],I)=>Y(X,I,J)),ds(Q,(J,I)=>Y(is,I,J))},P,Q,X,is,F),Ne(P),Ne(Q)};gt(X,Es),t.hasTable(z)&&$s(t.getRowIds(z),F=>{tt(X,F)||Es(F)}),gs(!0),Vs(C),Ls(C,0,t.addRowListener(z,null,(F,J,I)=>Es(I)),t.addTableListener(z,()=>gs()))},N=C=>{Y(L,C),Y(A,C),Y(p,C),Y(E,C),Vs(C),a($)};return[u,y,M,R,x,B,Ts,Cs,Ms,N,C=>i(C,$),()=>gt(f,N),Ls,Vs]},we=(t,n)=>Wo(t)?c=>c(t):t??(()=>n??""),Qo=(t,n)=>{let c=new WeakMap;return i=>(c.has(i)||c.set(i,t(i)),c.get(i))},Xo=(t,n)=>(t??0)<(n??0)?-1:1,Io=/^\d+$/,sc=()=>{let t=[],n=0;return[c=>(c?Ko(t):null)??""+n++,c=>{Yo(Io,c)&&_s(t)<1e3&&De(t,c)}]},tc=(t,n=[""])=>{let c=[],i=(a,d)=>d==_s(n)?De(c,a):n[d]===null?ds(a,L=>i(L,d+1)):$s([n[d],null],L=>i(k(a,L),d+1));return i(t,0),c},nc=t=>{let n,[c,i]=sc(),a=es();return[(p,E,f,u=[],y=()=>[])=>{n??=t();let M=c(1);return Y(a,M,[p,E,f,u,y]),Ds(an(E,f??[""],Gs),M),M},(p,E,...f)=>$s(tc(p,E),u=>ds(u,y=>k(a,y)[0](n,...E??[],...f))),p=>Js(k(a,p),([,E,f])=>(an(E,f??[""],void 0,u=>(nt(u,p),dt(u)?1:0)),Y(a,p),i(p),f)),p=>Js(k(a,p),([E,,f=[],u,y])=>{let M=(...R)=>{let x=_s(R);x==_s(f)?E(n,...R,...y(R)):ys(f[x])?$s(u[x]?.(...R)??[],B=>M(...R,B)):M(...R,f[x])};M()})]},ze=Qo(t=>{let n=es(),c=es(),[i,a,d]=nc(()=>O),[L,A,$,p,E,f,u,,y,M,R,x]=Oo(t,es,S=>ys(S)?"":ut(S)?Bo(S,Ve):Ve(S),i,a),B=(S,P)=>tt(f(S),P),Ts=(S,P,Q,X,is,Es=Xo)=>{let gs=ys(is)?void 0:([F],[J])=>is(F,J);return y(S,P,(F,J,I,ps,Ss,vs)=>{let ms=0,Ns=Gs(),ws=Gs(),rs=f(S);if(ds(J,([U,ls],as)=>{let b=Gs(U),Is=Gs(ls);ds(b,fs=>nt(Is,fs)?nt(b,fs):0),ds(b,fs=>{Ds(Ns,fs),Js(k(rs,fs),Rt=>{nt(Rt,as),dt(Rt)&&(Y(rs,fs),ms=1)})}),ds(Is,fs=>{Ds(Ns,fs),tt(rs,fs)||(Y(rs,fs,Gs()),ms=1),Ds(k(rs,fs),as),ys(X)||Ds(ws,fs)})}),F(),dt(Ss)||(vs?gt(rs,U=>Ds(ws,U)):gt(I,U=>Js(k(ps,U),ls=>$s(ut(ls)?ls:[ls],as=>Ds(ws,as)))),ds(ws,U=>{let ls=(b,Is)=>Es(k(Ss,b),k(Ss,Is),U),as=[...k(rs,U)];Me(as,ls)||(Y(rs,U,Gs(ve(as,ls))),Ds(Ns,U))})),(ms||vs)&&!ys(gs)){let U=[...rs];Me(U,gs)||(u(S,es(ve(U,gs))),ms=1)}ms&&a(n,[S]),ds(Ns,U=>a(c,[S,U]))},we(Q),Js(X,we)),O},Ls=S=>$((P,Q)=>S(P,X=>Cs(P,X,Q))),Vs=(S,P)=>Cs(S,P,f(S)),Cs=(S,P,Q)=>{let X=E(S);ds(Q,(is,Es)=>P(Es,gs=>ds(is,F=>gs(F,J=>t.forEachCell(X,F,J)))))},O={setIndexDefinition:Ts,delIndexDefinition:S=>(M(S),O),getStore:L,getIndexIds:A,forEachIndex:Ls,forEachSlice:Vs,hasIndex:p,hasSlice:B,getTableId:E,getSliceIds:S=>Ae(f(S)),getSliceRowIds:(S,P)=>fn(k(f(S),P)),addIndexIdsListener:R,addSliceIdsListener:(S,P)=>i(P,n,[S]),addSliceRowIdsListener:(S,P,Q)=>i(Q,c,[S,P]),delListener:S=>(d(S),O),destroy:x,getListenerStats:()=>({sliceIds:Pe(n),sliceRowIds:Jo(c)})};return Zo(O)});var Xs=t=>typeof t;var ec=Xs(""),oc=Xs(!0),Ke=Xs(0),cc=Xs(Xs),Wt="type",Zs="default",ic="Listener",rc="add",Os="Has",Qt="Ids",ot="Table",je=ot+"s",lc=ot+Qt,qt="Row",ac=qt+"Count",fc=qt+Qt,Ut="Cell",Ge=Ut+Qt,Kt="Value",We=Kt+"s",hc=Kt+Qt,D=t=>""+t,gc=isFinite,uc=(t,n)=>t instanceof n,K=t=>t==null,q=(t,n,c)=>K(t)?c?.():n(t),Je=t=>t==ec||t==oc,hn=t=>Xs(t)==cc,$e=t=>Array.isArray(t),Ye=(t,n,c)=>t.slice(n,c),Fs=t=>t.length,dc=(t,n)=>t.test(n),gn=async(t,n,c)=>{try{return await t()}catch(i){n?.(i)}},Tc=(t,n)=>t.includes(n),Lc=(t,n)=>t.every(n),Ec=(t,n)=>Fs(t)===Fs(n)&&Lc(t,(c,i)=>n[i]===c),Sc=(t,n)=>t.sort(n),yt=(t,n)=>t.forEach(n),Jt=(t,n)=>t.map(n),pc=(t,n,c)=>t.reduce(n,c),$t=(t,...n)=>t.push(...n),Cc=t=>t.shift(),Tt=t=>{let n=Xs(t);return Je(n)||n==Ke&&gc(t)?n:void 0},ke=(t,n,c,i,a)=>K(a)?t.delCell(n,c,i,!0):t.setCell(n,c,i,a),Be=(t,n,c)=>K(c)?t.delValue(n):t.setValue(n,c),Cn=t=>n=>pc(mc(n),(c,i)=>c+t(i),0),mn=t=>t?.size??0,yn=Cn(mn),St=Cn(yn),un=Cn(St),os=(t,n)=>t?.has(n)??!1,m=t=>K(t)||mn(t)==0,mc=t=>[...t?.values()??[]],dn=t=>t.clear(),v=(t,n)=>t?.forEach(n),Zt=(t,n)=>t?.delete(n),Us=Object,Ue=t=>Us.getPrototypeOf(t),yc=Us.isFrozen,Ze=Us.entries,Ot=t=>!K(t)&&q(Ue(t),n=>n==Us.prototype||K(Ue(n)),()=>!0),Rc=Us.keys,Vc=Us.freeze,Mc=(t=[])=>Us.fromEntries(t),pt=(t,n)=>n in t,Oe=(t,n)=>(delete t[n],t),vc=(t,n)=>yt(Ze(t),([c,i])=>n(i,c)),Nc=(t,n)=>Jt(Ze(t),([c,i])=>n(i,c)),Ys=(t,n)=>Mc(Nc(t,(c,i)=>[i,n(c,i)])),wc=t=>Fs(Rc(t)),Rs=t=>Ot(t)&&wc(t)==0,Ws=(t,n,c,i=0)=>K(t)||!Ot(t)||!i&&Rs(t)||yc(t)?(c?.(),!1):(vc(t,(a,d)=>{n(a,d)||Oe(t,d)}),i?!0:!Rs(t)),V=t=>new Map(t),Lt=t=>[...t?.keys()??[]],g=(t,n)=>t?.get(n),ks=(t,n)=>v(t,(c,i)=>n(i,c)),Hc=(t,n)=>Jt([...t?.entries()??[]],([c,i])=>n(i,c)),_=(t,n,c)=>K(c)?(Zt(t,n),t):t?.set(n,c),ss=(t,n,c,i)=>(os(t,n)?i?.(g(t,n)):_(t,n,c()),g(t,n)),Qs=(t,n,c,i=_)=>(Ys(n,(a,d)=>c(t,d,a)),ks(t,a=>pt(n,a)?0:i(t,a)),t),hs=(t,n,c,i)=>{let a={};return v(t,(d,L)=>{if(!c?.(d,L)){let A=n?n(d,L):d;i?.(A)||(a[L]=A)}}),a},En=(t,n,c)=>hs(t,i=>hs(i,n,c),m,Rs),Yt=(t,n,c)=>hs(t,i=>En(i,n,c),m,Rs),Bs=(t,n)=>{let c=V();return v(t,(i,a)=>c.set(a,n?.(i)??i)),c},Sn=t=>Bs(t,Bs),Tn=t=>Bs(t,Sn),pn=(t,n,c,i,a=0)=>q((c?ss:g)(t,n[a],a>Fs(n)-2?c:V),d=>{if(a>Fs(n)-2)return i?.(d)&&_(t,n[a]),d;let L=pn(d,n,c,i,a+1);return m(d)&&_(t,n[a]),L}),xc=JSON.stringify,Ln=JSON.parse,et=t=>xc(t,(n,c)=>uc(c,Map)?Us.fromEntries([...c]):c),Dc=(t,n)=>(t??0)<(n??0)?-1:1,_c=/^\d+$/,Qe=()=>{let t=[],n=0;return[c=>(c?Cc(t):null)??""+n++,c=>{dc(_c,c)&&Fs(t)<1e3&&$t(t,c)}]},Ct=t=>new Set($e(t)||K(t)?t:[t]),mt=(t,n)=>t?.add(n),Fc=(t,n=[""])=>{let c=[],i=(a,d)=>d==Fs(n)?$t(c,a):n[d]===null?v(a,L=>i(L,d+1)):yt([n[d],null],L=>i(g(a,L),d+1));return i(t,0),c},Pc=t=>{let n,[c,i]=Qe(),a=V();return[(p,E,f,u=[],y=()=>[])=>{n??=t();let M=c(1);return _(a,M,[p,E,f,u,y]),mt(pn(E,f??[""],Ct),M),M},(p,E,...f)=>yt(Fc(p,E),u=>v(u,y=>g(a,y)[0](n,...E??[],...f))),p=>q(g(a,p),([,E,f])=>(pn(E,f??[""],void 0,u=>(Zt(u,p),m(u)?1:0)),_(a,p),i(p),f)),p=>q(g(a,p),([E,,f=[],u,y])=>{let M=(...R)=>{let x=Fs(R);x==Fs(f)?E(n,...R,...y(R)):K(f[x])?yt(u[x]?.(...R)??[],B=>M(...R,B)):M(...R,f[x])};M()})]},kt=t=>[t,t],G=(t,n=yn)=>n(t[0])+n(t[1]),W=()=>[V(),V()],qe=t=>[...t],Bt=([t,n])=>t===n,Et=(t,n,c)=>_(t,n,g(t,n)==-c?void 0:c),Rn=()=>{let t,n,c=!1,i=!1,a=0,d=[],L=V(),A=V(),$=V(),p=V(),E=V(),f=V(),u=V(),y=V(),M=V(),R=V(),x=V(),B=V(),Ts=V(),Ls=V(),Vs=Ct(),Cs=V(),Ms=V(),N=V(),Z=V(),ct=W(),C=W(),z=W(),cs=W(),O=W(),S=W(),P=W(),Q=W(),X=W(),is=W(),Es=W(),gs=W(),F=W(),J=W(),I=W(),ps=W(),Ss=W(),vs=W(),ms=W(),Ns=W(),ws=W(),rs=W(),U=V(),ls=W(),[as,b,Is,fs]=Pc(()=>ts),Rt=s=>Ws(s,e=>Ws(e,vn)),to=s=>Ws(s,vn),vn=s=>{if(!Ws(s,(o,r)=>Tc([Wt,Zs],r)))return!1;let e=s[Wt];return!Je(e)&&e!=Ke?!1:(Tt(s[Zs])!=e&&Oe(s,Zs),!0)},no=$e,eo=s=>Ws(s,Nn,Ps),Nn=(s,e)=>(!t||os(x,e)||Ps(e))&&Ws(s,(o,r)=>Vt(e,r,o),()=>Ps(e)),Vt=(s,e,o,r)=>Ws(r?o:Dn(o,s,e),(l,h)=>q(wn(s,e,h,l),T=>(o[h]=T,!0),()=>!1),()=>Ps(s,e)),wn=(s,e,o,r)=>t?q(g(g(x,s),o),l=>Tt(r)!=l[Wt]?Ps(s,e,o,r,l[Zs]):r,()=>Ps(s,e,o,r)):K(Tt(r))?Ps(s,e,o,r):r,Hn=(s,e)=>Ws(e?s:oo(s),(o,r)=>q(xn(r,o),l=>(s[r]=l,!0),()=>!1),()=>rt()),xn=(s,e)=>n?q(g(Ts,s),o=>Tt(e)!=o[Wt]?rt(s,e,o[Zs]):e,()=>rt(s,e)):K(Tt(e))?rt(s,e):e,Dn=(s,e,o)=>(q(g(B,e),([r,l])=>{v(r,(h,T)=>{pt(s,T)||(s[T]=h)}),v(l,h=>{pt(s,h)||Ps(e,o,h)})}),s),oo=s=>(n&&(v(Ls,(e,o)=>{pt(s,o)||(s[o]=e)}),v(Vs,e=>{pt(s,e)||rt(e)})),s),_n=s=>Qs(x,s,(e,o,r)=>{let l=V(),h=Ct();Qs(ss(x,o,V),r,(T,w,H)=>{_(T,w,H),q(H[Zs],Hs=>_(l,w,Hs),()=>mt(h,w))}),_(B,o,[l,h])},(e,o)=>{_(x,o),_(B,o)}),Fn=s=>Qs(Ts,s,(e,o,r)=>{_(Ts,o,r),q(r[Zs],l=>_(Ls,o,l),()=>mt(Vs,o))},(e,o)=>{_(Ts,o),_(Ls,o),Zt(Vs,o)}),Pn=s=>Rs(s)?bt():Pt(s),co=([s,e])=>{(Rs(s)?bt:Pt)(s),(Rs(e)?zt:At)(e)},An=s=>Qs(N,s,(e,o,r)=>Mt(o,r),(e,o)=>Gn(o)),Mt=(s,e)=>Qs(ss(N,s,()=>(Bn(s,1),_(Cs,s,Qe()),_(Ms,s,V()),V())),e,(o,r,l)=>it(s,o,r,l),(o,r)=>Wn(s,o,r)),it=(s,e,o,r,l)=>Qs(ss(e,o,()=>(Un(s,o,1),V())),r,(h,T,w)=>Xt(s,o,h,T,w),(h,T)=>Yn(s,e,o,h,T,l)),Xt=(s,e,o,r,l)=>{os(o,r)||qn(s,e,r,1);let h=g(o,r);l!==h&&(Kn(s,e,r,h,l),_(o,r,l))},bn=(s,e,o,r,l)=>q(g(e,o),h=>Xt(s,o,h,r,l),()=>it(s,e,o,Dn({[r]:l},s,o))),zn=s=>Rs(s)?zt():At(s),jn=s=>Qs(Z,s,(e,o,r)=>vt(o,r),(e,o)=>kn(o)),vt=(s,e)=>{os(Z,s)||Jn(s,1);let o=g(Z,s);e!==o&&($n(s,o,e),_(Z,s,e))},io=(s,e)=>{let[o]=g(Cs,s),r;do r=o(e);while(os(g(N,s),r));return r},Nt=s=>g(N,s)??Mt(s,{}),Gn=s=>Mt(s,{}),Wn=(s,e,o)=>{let[,r]=g(Cs,s);r(o),it(s,e,o,{},!0)},Yn=(s,e,o,r,l,h)=>{let T=g(g(B,s)?.[0],l);if(!K(T)&&!h)return Xt(s,o,r,l,T);let w=H=>{Kn(s,o,H,g(r,H)),qn(s,o,H,-1),_(r,H)};K(T)?w(l):ks(r,w),m(r)&&(Un(s,o,-1),m(_(e,o))&&(Bn(s,-1),_(N,s),_(Cs,s),_(Ms,s)))},kn=s=>{let e=g(Ls,s);if(!K(e))return vt(s,e);$n(s,g(Z,s)),Jn(s,-1),_(Z,s)},Bn=(s,e)=>Et(L,s,e),Un=(s,e,o)=>Et(ss(p,s,V),e,o)&&_($,s,ss($,s,()=>0)+o),qn=(s,e,o,r)=>{let l=g(Ms,s),h=g(l,o)??0;(h==0&&r==1||h==1&&r==-1)&&Et(ss(A,s,V),o,r),_(l,o,h!=-r?h+r:null),Et(ss(ss(E,s,V),e,V),o,r)},Kn=(s,e,o,r,l)=>{ss(ss(ss(f,s,V),e,V),o,()=>[r,0])[1]=l,d[3]?.(s,e,o,l)},Jn=(s,e)=>Et(u,s,e),$n=(s,e,o)=>{ss(y,s,()=>[e,0])[1]=o,d[4]?.(s,o)},Ps=(s,e,o,r,l)=>($t(ss(ss(ss(M,s,V),e,V),o,()=>[]),r),l),rt=(s,e,o)=>($t(ss(R,s,()=>[]),e),o),wt=(s,e,o)=>q(g(g(g(f,s),e),o),([r,l])=>[!0,r,l],()=>[!1,...kt(xt(s,e,o))]),Zn=s=>q(g(y,s),([e,o])=>[!0,e,o],()=>[!1,...kt(Dt(s))]),On=s=>!m(M)&&!m(ps[s])?v(s?Tn(M):M,(e,o)=>v(e,(r,l)=>v(r,(h,T)=>b(ps[s],[o,l,T],h)))):0,Qn=s=>!m(R)&&!m(Ss[s])?v(s?Bs(R):R,(e,o)=>b(Ss[s],[o],e)):0,lt=(s,e,o,r)=>{if(!m(s))return b(e,r,()=>hs(s)),ks(s,(l,h)=>b(o,[...r??[],l],h==1)),1},Xn=s=>{let e=_t();e!=c&&b(ct[s],void 0,e);let o=m(is[s]),r=m(F[s])&&m(J[s])&&m(X[s])&&m(Es[s])&&m(S[s])&&m(P[s])&&m(Q[s])&&o&&m(z[s])&&m(cs[s]),l=m(I[s])&&m(gs[s])&&m(O[s])&&m(C[s]);if(!r||!l){let h=s?[Bs(L),Sn(A),Bs($),Sn(p),Tn(E),Tn(f)]:[L,A,$,p,E,f];if(!r){lt(h[0],z[s],cs[s]),v(h[1],(w,H)=>lt(w,S[s],P[s],[H])),v(h[2],(w,H)=>{w!=0&&b(Q[s],[H],ne(H))});let T=Ct();v(h[3],(w,H)=>{lt(w,X[s],Es[s],[H])&&!o&&(b(is[s],[H,null]),mt(T,H))}),o||v(h[5],(w,H)=>{if(!os(T,H)){let Hs=Ct();v(w,As=>v(As,([jt,Gt],at)=>Gt!==jt?mt(Hs,at):Zt(As,at))),v(Hs,As=>b(is[s],[H,As]))}}),v(h[4],(w,H)=>v(w,(Hs,As)=>lt(Hs,F[s],J[s],[H,As])))}if(!l){let T;v(h[5],(w,H)=>{let Hs;v(w,(As,jt)=>{let Gt;v(As,([at,Le],Po)=>{Le!==at&&(b(I[s],[H,jt,Po],Le,at,wt),T=Hs=Gt=1)}),Gt&&b(gs[s],[H,jt],wt)}),Hs&&b(O[s],[H],wt)}),T&&b(C[s],void 0,wt)}}},In=s=>{let e=Ft();e!=i&&b(vs[s],void 0,e);let o=m(Ns[s])&&m(ws[s]),r=m(rs[s])&&m(ms[s]);if(!o||!r){let l=s?[Bs(u),Bs(y)]:[u,y];if(o||lt(l[0],Ns[s],ws[s]),!r){let h;v(l[1],([T,w],H)=>{w!==T&&(b(rs[s],[H],w,T,Zn),h=1)}),h&&b(ms[s],void 0,Zn)}}},j=(s,...e)=>(on(()=>s(...Jt(e,D))),ts),se=(s,e,o,r,l)=>{let h=Ht(s,e,...o);return as(()=>{let T=Ht(s,e,...o);Ec(T,h)||(h=T,r(ts,s,e,...o,h))},is[l?1:0],[s,e],[us])},ro=()=>[It(),tn()],It=()=>Yt(N),us=()=>Lt(N),lo=s=>En(g(N,D(s))),te=s=>Lt(g(Ms,D(s))),ne=s=>mn(g(N,D(s))),st=s=>Lt(g(N,D(s))),Ht=(s,e,o,r=0,l)=>Ot(s)?Ht(s.tableId,s.cellId,s.descending,s.offset,s.limit):Jt(Ye(Sc(Hc(g(N,D(s)),(h,T)=>[K(e)?T:g(h,D(e)),T]),([h],[T])=>Dc(h,T)*(o?-1:1)),r,K(l)?l:r+l),([,h])=>h),ao=(s,e)=>hs(g(g(N,D(s)),D(e))),sn=(s,e)=>Lt(g(g(N,D(s)),D(e))),xt=(s,e,o)=>g(g(g(N,D(s)),D(e)),D(o)),tn=()=>hs(Z),nn=()=>Lt(Z),Dt=s=>g(Z,D(s)),_t=()=>!m(N),ee=s=>os(N,D(s)),oe=(s,e)=>os(g(Ms,D(s)),D(e)),ce=(s,e)=>os(g(N,D(s)),D(e)),ie=(s,e,o)=>os(g(g(N,D(s)),D(e)),D(o)),Ft=()=>!m(Z),re=s=>os(Z,D(s)),fo=()=>et(N),ho=()=>et(Z),go=()=>et([N,Z]),uo=()=>et(x),To=()=>et(Ts),Lo=()=>et([x,Ts]),Eo=s=>j(()=>{let e=hn(s)?s():s;no(e)&&co(e)}),Pt=s=>j(()=>eo(s)?An(s):0),So=(s,e)=>j(o=>Nn(e,o)?Mt(o,e):0,s),po=(s,e,o)=>j((r,l)=>Vt(r,l,o)?it(r,Nt(r),l,o):0,s,e),Co=(s,e,o=!0)=>on(()=>{let r;return Vt(s,r,e)&&(s=D(s),it(s,Nt(s),r=io(s,o?1:0),e)),r}),mo=(s,e,o)=>j((r,l)=>{if(Vt(r,l,o,1)){let h=Nt(r);Ys(o,(T,w)=>bn(r,h,l,w,T))}},s,e),yo=(s,e,o,r)=>j((l,h,T)=>q(wn(l,h,T,hn(r)?r(xt(l,h,T)):r),w=>bn(l,Nt(l),h,T,w)),s,e,o),At=s=>j(()=>Hn(s)?jn(s):0),Ro=s=>j(()=>Hn(s,1)?Ys(s,(e,o)=>vt(o,e)):0),Vo=(s,e)=>j(o=>q(xn(o,hn(e)?e(Dt(o)):e),r=>vt(o,r)),s),Mo=s=>j(()=>{Ys(s[0],(e,o)=>K(e)?he(o):Ys(e,(r,l)=>K(r)?ge(o,l):Ys(r,(h,T)=>ke(ts,o,l,T,h)))),Ys(s[1],(e,o)=>Be(ts,o,e))}),le=s=>(gn(()=>Pn(Ln(s))),ts),vo=s=>(gn(()=>zn(Ln(s))),ts),No=s=>j(()=>gn(()=>{let[e,o]=Ln(s);Pn(e),zn(o)},()=>le(s))),ae=s=>j(()=>{if((t=Rt(s))&&(_n(s),!m(N))){let e=It();bt(),Pt(e)}}),fe=s=>j(()=>{if(n=to(s)){let e=tn();en(),zt(),n=!0,Fn(s),At(e)}}),wo=(s,e)=>j(()=>{ae(s),fe(e)}),bt=()=>j(()=>An({})),he=s=>j(e=>os(N,e)?Gn(e):0,s),ge=(s,e)=>j((o,r)=>q(g(N,o),l=>os(l,r)?Wn(o,l,r):0),s,e),Ho=(s,e,o,r)=>j((l,h,T)=>q(g(N,l),w=>q(g(w,h),H=>os(H,T)?Yn(l,w,h,H,T,r):0)),s,e,o),zt=()=>j(()=>jn({})),xo=s=>j(e=>os(Z,e)?kn(e):0,s),ue=()=>j(()=>{_n({}),t=!1}),en=()=>j(()=>{Fn({}),n=!1}),Do=()=>j(()=>{ue(),en()}),on=(s,e)=>{if(a!=-1){de();let o=s();return Te(e),o}},de=()=>(a!=-1&&a++,a==1&&(d[0]?.(),b(U)),ts),_o=()=>[hs(f,(s,e)=>g(L,e)===-1?void 0:hs(s,(o,r)=>g(g(p,e),r)===-1?void 0:hs(o,([,l])=>l,l=>Bt(l)),m,Rs),m,Rs),hs(y,([,s])=>s,s=>Bt(s)),1],Fo=()=>[!m(f),!m(y),Yt(f,qe,Bt),Yt(M),hs(y,qe,Bt),hs(R),hs(L),En(p),Yt(E),hs(u)],Te=s=>(a>0&&(a--,a==0&&(a=1,On(1),m(f)||Xn(1),Qn(1),m(y)||In(1),s?.(ts)&&(v(f,(e,o)=>v(e,(r,l)=>v(r,([h],T)=>ke(ts,o,l,T,h)))),dn(f),v(y,([e],o)=>Be(ts,o,e)),dn(y)),b(ls[0],void 0),a=-1,On(0),m(f)||Xn(0),Qn(0),m(y)||In(0),d[1]?.(),b(ls[1],void 0),d[2]?.(),a=0,c=_t(),i=Ft(),yt([L,A,$,p,E,f,M,u,y,R],dn))),ts),ts={getContent:ro,getTables:It,getTableIds:us,getTable:lo,getTableCellIds:te,getRowCount:ne,getRowIds:st,getSortedRowIds:Ht,getRow:ao,getCellIds:sn,getCell:xt,getValues:tn,getValueIds:nn,getValue:Dt,hasTables:_t,hasTable:ee,hasTableCell:oe,hasRow:ce,hasCell:ie,hasValues:Ft,hasValue:re,getTablesJson:fo,getValuesJson:ho,getJson:go,getTablesSchemaJson:uo,getValuesSchemaJson:To,getSchemaJson:Lo,hasTablesSchema:()=>t,hasValuesSchema:()=>n,setContent:Eo,setTables:Pt,setTable:So,setRow:po,addRow:Co,setPartialRow:mo,setCell:yo,setValues:At,setPartialValues:Ro,setValue:Vo,applyChanges:Mo,setTablesJson:le,setValuesJson:vo,setJson:No,setTablesSchema:ae,setValuesSchema:fe,setSchema:wo,delTables:bt,delTable:he,delRow:ge,delCell:Ho,delValues:zt,delValue:xo,delTablesSchema:ue,delValuesSchema:en,delSchema:Do,transaction:on,startTransaction:de,getTransactionChanges:_o,getTransactionLog:Fo,finishTransaction:Te,forEachTable:s=>v(N,(e,o)=>s(o,r=>v(e,(l,h)=>r(h,T=>ks(l,T))))),forEachTableCell:(s,e)=>ks(g(Ms,D(s)),e),forEachRow:(s,e)=>v(g(N,D(s)),(o,r)=>e(r,l=>ks(o,l))),forEachCell:(s,e,o)=>ks(g(g(N,D(s)),D(e)),o),forEachValue:s=>ks(Z,s),addSortedRowIdsListener:(s,e,o,r,l,h,T)=>Ot(s)?se(s.tableId,s.cellId,[s.descending??!1,s.offset??0,s.limit],e,o):se(s,e,[o,r,l],h,T),addStartTransactionListener:s=>as(s,U),addWillFinishTransactionListener:s=>as(s,ls[0]),addDidFinishTransactionListener:s=>as(s,ls[1]),callListener:s=>(fs(s),ts),delListener:s=>(Is(s),ts),getListenerStats:()=>({hasTables:G(ct),tables:G(C),tableIds:G(z),hasTable:G(cs),table:G(O),tableCellIds:G(S),hasTableCell:G(P,St),rowCount:G(Q),rowIds:G(X),sortedRowIds:G(is),hasRow:G(Es,St),row:G(gs,St),cellIds:G(F,St),hasCell:G(J,un),cell:G(I,un),invalidCell:G(ps,un),hasValues:G(vs),values:G(ms),valueIds:G(Ns),hasValue:G(ws),value:G(rs),invalidValue:G(Ss),transaction:yn(U)+G(ls)}),isMergeable:()=>!1,createStore:Rn,addListener:as,callListeners:b,setInternalListeners:(s,e,o,r,l)=>d=[s,e,o,r,l]};return Ys({[Os+je]:[0,ct,[],()=>[_t()]],[je]:[0,C],[lc]:[0,z],[Os+ot]:[1,cs,[us],s=>[ee(...s)]],[ot]:[1,O,[us]],[ot+Ge]:[1,S,[us]],[Os+ot+Ut]:[2,P,[us,te],s=>[oe(...s)]],[ac]:[1,Q,[us]],[fc]:[1,X,[us]],[Os+qt]:[2,Es,[us,st],s=>[ce(...s)]],[qt]:[2,gs,[us,st]],[Ge]:[2,F,[us,st]],[Os+Ut]:[3,J,[us,st,sn],s=>[ie(...s)]],[Ut]:[3,I,[us,st,sn],s=>kt(xt(...s))],InvalidCell:[3,ps],[Os+We]:[0,vs,[],()=>[Ft()]],[We]:[0,ms],[hc]:[0,Ns],[Os+Kt]:[1,ws,[nn],s=>[re(...s)]],[Kt]:[1,rs,[nn],s=>kt(Dt(s[0]))],InvalidValue:[1,Ss]},([s,e,o,r],l)=>{ts[rc+l+ic]=(...h)=>as(h[s],e[h[s+1]?1:0],s>0?Ye(h,0,s):void 0,o,r)}),Vc(ts)};var Ac=["id","ids","add","api","del","get","set","use"],so=(t=!1)=>{addEventListener("load",()=>{let n=xs("body > header > nav");if(n==null)return;let c=ns("div",null,{id:"search"}),i=ns("input",c,{type:"text",placeholder:(navigator.platform.startsWith("Mac")?"\u2318":"cmd-")+"K Search"}),a=ns("ol",c),d=ns("li",a,{},"No results found"),L=Rn(),A=ze(L);A.setIndexDefinition("p","p",f=>{let u=[];return f("t").split(" ").forEach(y=>{for(let M=0;M<y.length;M++)u.push(y.slice(0,M+1))}),u},"t",void 0,(f,u,y)=>Mn(u,y)-Mn(f,y)),fetch("/pages.json").then(f=>f.json()).then(f=>{L.transaction(()=>{L.setContent(f),L.forEachRow("p",u=>{let{n:y,s:M}=L.getRow("p",u),R=new Set;Vn(u,R,!0),Vn(y,R),Vn(M,R),L.setCell("p",u,"t",Array.from(R.values()).join(" "))})}),$()});let $=()=>{n.prepend(c);let f=()=>(i.value?qs:ft)(a,"show");i.addEventListener("focus",f),i.addEventListener("input",()=>{f(),p()}),i.addEventListener("blur",()=>ft(a,"show")),E()},p=()=>{let f=i.value.toLowerCase().split(/[^a-z0-9]+/),u=new Map;f.forEach(R=>A.getSliceRowIds("p",R).slice(0,50).forEach(x=>u.set(x,(u.get(x)??0)+Mn(L.getCell("p",x,"t"),R))));let y=Array.from(u.keys()).sort((R,x)=>u.get(x)-u.get(R)).slice(0,10),M=y.length==0?[d]:y.map((R,x)=>{let B=ns("li"),{n:Ts,s:Ls}=L.getRow("p",R);return Xe(ns("b",B),Ts,f[0]),Xe(ns("span",B),Ls,f[0]),B.title=Ls,B.addEventListener("mousedown",()=>t?location.href=R:ht(R)),x==0&&qs(B,"hover"),B});a.replaceChildren(...M)},E=()=>addEventListener("keydown",f=>{if(zs.activeElement==i){let u=bs(a,".hover");switch(f.code){case"Escape":return i.blur();case"ArrowDown":return Ks(f),Ie(u,u?.nextSibling??a.firstChild);case"ArrowUp":return Ks(f),Ie(u,u?.previousSibling??a.lastChild);case"Enter":return u?.dispatchEvent(new MouseEvent("mousedown"))}}else f.code=="KeyK"&&f.metaKey&&(i.focus(),Ks(f))})})},Xe=(t,n,c)=>{let i=n.toLowerCase().indexOf(c);t.innerHTML=i==-1?n:n.substring(0,i)+"<em>"+n.substring(i,i+c.length)+"</em>"+n.substring(i+c.length)},Ie=(t,n)=>{t!=n&&(t&&ft(t,"hover"),n&&(qs(n,"hover"),n.scrollIntoView({block:"nearest",inline:"nearest"})))},Vn=(t,n,c)=>{let i=t.replaceAll(/[^a-zA-Z0-9]/g," ").split(/\s+/);c&&i.reverse(),i.forEach(a=>{[a,...a.replaceAll(/([a-z])([A-Z])/g,"$1 $2").split(" ")].forEach(d=>{let L=d.toLowerCase();(L.length>3||Ac.includes(L))&&n.add(L)})})},Mn=(t,n)=>{let c=t.length,i=t.indexOf(n);return i===-1?0:(c-i)/c};Se();Re();so();addEventListener("load",()=>{cn(),zs.body.addEventListener("click",n=>{if(n.button!=0)return;let c=n.target;if(c.tagName=="SPAN"&&c.innerHTML==""&&c.parentElement?.tagName=="LI")return t(c.parentElement);for(;c.tagName!="A"&&c.parentElement!=null;)c=c.parentElement;let i=c.href;!n.metaKey&&!n.shiftKey&&i!=null&&i!=location.origin+"/"&&i.startsWith(location.origin+"/")&&!i.includes("#")&&(ht(i),Ks(n))}),window.onpopstate=function(n){location.href.includes("#")||(ht(location.href,!1),Ks(n))};let t=n=>me(n,"open",()=>{let c=bs(n,"a");c.href!=location.origin&&c.click()})});})();

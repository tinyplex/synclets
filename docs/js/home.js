"use strict";(()=>{var Se="v0.0.7";var jo="TinyBase",tt=document,pe=()=>{addEventListener("load",()=>{let t=Ds("#version");t.innerText=Se,t.style.width=t.scrollWidth+"px"})},Go=null,Ce=()=>Go??=Ds("body > main > nav"),Uo=null,ye=()=>Uo??=Ds("body > main > article"),Gt=t=>t.preventDefault(),Ds=t=>tt.querySelector(t),st=(t,n)=>t.querySelector(n),Wo=t=>tt.getElementById(t),ts=(t,n,c={},r)=>{let a=tt.createElement(t);return Object.entries(c).forEach(L=>a.setAttribute(...L)),r!=null&&(a.innerText=r),n!=null?n.appendChild(a):a},ks=(t,n)=>t.classList.add(n);var ft=(t,n)=>t.classList.remove(n);var Re=(t,n=!0)=>{let c=Ce();["?","#"].forEach(r=>{t.includes(r)&&(t=t.substring(0,t.indexOf(r)))}),fetch(`${t}nav.json`).then(r=>r.json()).then(r=>{ft(st(c,"li.current"),"current"),me(r,st(c,"ul"))}),fetch(`${t}article.html`).then(r=>r.text()).then(r=>{let a=ye();a.innerHTML=r,a.scrollTo(0,0),Yo()}),n&&history.pushState(null,"",t)},Yo=()=>{let t=st(ye(),":scope iframe"),n=t?.parentElement;if(t==null||n==null)return;let c=n.insertBefore(ts("form",null,{action:"https://codepen.io/pen/define",method:"post",target:"_blank"}),t);n.insertBefore(ts("a",null,{id:"penEdit"},"Open this demo in CodePen"),t).onclick=()=>{c.childNodes.length==0?fetch("pen.json").then(r=>r.text()).then(r=>{ts("input",c,{type:"hidden",name:"data",value:r}),c.submit()}):c.submit()}},me=({i:t,n,u:c,r,c:a,p:L,o:d,_:A},K)=>{let p=Ce(),E=Wo(t);if(E==null){E=ts("li",K,{id:t}),ts("span",E);let f=ts("a",E,{href:c});r?ts("code",f,{},n):f.innerText=n,L&&ks(E,"parent")}if(d&&ks(E,"open"),A!=null){let f=st(E,"ul")??ts("ul",E);A.forEach(u=>{me(u,f)})}if(a){ks(E,"current"),tt.title=`${n} | ${jo}`;let f=E.getBoundingClientRect(),u=p.getBoundingClientRect();f.top<u.top?p.scrollBy(0,f.top-u.top):f.bottom>u.bottom&&p.scrollBy(0,Math.min(f.bottom-u.bottom,f.top-u.top))}};var zs="dark",ln="light",an="auto",Ve=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),n=()=>{let c=localStorage.getItem(zs)??an;Ds("#dark")?.setAttribute("class",c),Ds("html").className=c==zs||c==an&&t.matches?zs:ln};t.addEventListener("change",n),window.addEventListener("storage",c=>{c.storageArea==localStorage&&c.key==zs&&n()}),addEventListener("load",()=>{Ds("#dark").addEventListener("click",()=>{let c=localStorage.getItem(zs);localStorage.setItem(zs,c==zs?ln:c==ln?an:zs),n()}),n()}),n()};var De=t=>typeof t;var Bo=De(""),Ne=t=>""+t,ko=t=>(n,c,r)=>t(n)?r?.():c(n),_s=t=>t===void 0,He=t=>t===null,qs=ko(_s),qo=t=>De(t)==Bo,gt=t=>Array.isArray(t),Fs=t=>t.length,Jo=(t,n)=>t.test(n),_e=(t,n)=>t.every(n),Ko=(t,n)=>Fs(t)===Fs(n)&&_e(t,(c,r)=>n[r]===c),Me=(t,n)=>_e(t,(c,r)=>r==0||n(t[r-1],c)<=0),ve=(t,n)=>t.sort(n),Js=(t,n)=>t.forEach(n),$o=(t,n)=>t.map(n),Zo=t=>Fs(t)==0,Oo=(t,n,c)=>t.reduce(n,c),Fe=(t,...n)=>t.push(...n),Qo=t=>t.shift(),Pe=t=>n=>Oo(hn(n),(c,r)=>c+t(r),0),Ae=t=>t?.size??0,be=Pe(Ae),Xo=Pe(be),nt=(t,n)=>t?.has(n)??!1,ut=t=>_s(t)||Ae(t)==0,hn=t=>[...t?.values()??[]],xe=t=>t.clear(),Ls=(t,n)=>t?.forEach(n),et=(t,n)=>t?.delete(n),Io=Object,sc=Io.freeze,ns=t=>new Map(t),ze=t=>[...t?.keys()??[]],Y=(t,n)=>t?.get(n),ht=(t,n)=>Ls(t,(c,r)=>n(r,c)),W=(t,n,c)=>_s(c)?(et(t,n),t):t?.set(n,c),je=(t,n,c,r)=>(nt(t,n)?r?.(Y(t,n)):W(t,n,c()),Y(t,n)),fn=(t,n,c,r,a=0)=>qs((c?je:Y)(t,n[a],a>Fs(n)-2?c:ns),L=>{if(a>Fs(n)-2)return r?.(L)&&W(t,n[a]),L;let d=fn(L,n,c,r,a+1);return ut(L)&&W(t,n[a]),d}),js=t=>new Set(gt(t)||_s(t)?t:[t]),Hs=(t,n)=>t?.add(n),tc=(t,n,c,r,a)=>{let L=t.hasRow,d=ns(),A=ns(),K=ns(),p=ns(),E=ns(),f=ns(),u=()=>t,R=()=>ze(d),N=C=>ht(A,C),m=C=>nt(A,C),D=C=>Y(d,C),B=C=>Y(A,C),Ts=(C,z)=>W(A,C,z),ds=(C,z,...cs)=>{let Z=je(f,C,js);return Js(cs,S=>Hs(Z,S)&&z&&t.callListener(S)),cs},ms=(C,...z)=>qs(Y(f,C),cs=>{Js(Zo(z)?hn(cs):z,Z=>{t.delListener(Z),et(cs,Z)}),ut(cs)&&W(f,C)}),Cs=(C,z)=>{W(d,C,z),nt(A,C)||(W(A,C,n()),W(p,C,ns()),W(E,C,ns()),a(K))},Vs=(C,z,cs,Z,S)=>{Cs(C,z);let P=ns(),O=ns(),Q=Y(p,C),is=Y(E,C),Es=F=>{let q=Ss=>t.getCell(z,F,Ss),X=Y(Q,F),ps=L(z,F)?c(Z(q,F)):void 0;if(X===ps||gt(X)&&gt(ps)&&Ko(X,ps)||W(P,F,[X,ps]),!_s(S)){let Ss=Y(is,F),Ns=L(z,F)?S(q,F):void 0;Ss!=Ns&&W(O,F,Ns)}},gs=F=>{cs(()=>{Ls(P,([,q],X)=>W(Q,X,q)),Ls(O,(q,X)=>W(is,X,q))},P,O,Q,is,F),xe(P),xe(O)};ht(Q,Es),t.hasTable(z)&&Js(t.getRowIds(z),F=>{nt(Q,F)||Es(F)}),gs(!0),ms(C),ds(C,0,t.addRowListener(z,null,(F,q,X)=>Es(X)),t.addTableListener(z,()=>gs()))},v=C=>{W(d,C),W(A,C),W(p,C),W(E,C),ms(C),a(K)};return[u,R,N,m,D,B,Ts,Cs,Vs,v,C=>r(C,K),()=>ht(f,v),ds,ms]},we=(t,n)=>qo(t)?c=>c(t):t??(()=>n??""),nc=(t,n)=>{let c=new WeakMap;return r=>(c.has(r)||c.set(r,t(r)),c.get(r))},ec=(t,n)=>(t??0)<(n??0)?-1:1,oc=/^\d+$/,cc=()=>{let t=[],n=0;return[c=>(c?Qo(t):null)??""+n++,c=>{Jo(oc,c)&&Fs(t)<1e3&&Fe(t,c)}]},ic=(t,n=[""])=>{let c=[],r=(a,L)=>L==Fs(n)?Fe(c,a):He(n[L])?Ls(a,d=>r(d,L+1)):Js([n[L],null],d=>r(Y(a,d),L+1));return r(t,0),c},rc=t=>{let n,[c,r]=cc(),a=ns();return[(p,E,f,u=[],R=()=>[])=>{n??=t();let N=c(1);return W(a,N,[p,E,f,u,R]),Hs(fn(E,f??[""],js),N),N},(p,E,...f)=>Js(ic(p,E),u=>Ls(u,R=>Y(a,R)[0](n,...E??[],...f))),p=>qs(Y(a,p),([,E,f])=>(fn(E,f??[""],void 0,u=>(et(u,p),ut(u)?1:0)),W(a,p),r(p),f)),p=>qs(Y(a,p),([E,,f=[],u,R])=>{let N=(...m)=>{let D=Fs(m);D==Fs(f)?E(n,...m,...R(m)):He(f[D])?Js(u[D]?.(...m)??[],B=>N(...m,B)):N(...m,f[D])};N()})]},Ge=nc(t=>{let n=ns(),c=ns(),[r,a,L]=rc(()=>Z),[d,A,K,p,E,f,u,,R,N,m,D]=tc(t,ns,S=>_s(S)?"":gt(S)?$o(S,Ne):Ne(S),r,a),B=(S,P)=>nt(f(S),P),Ts=(S,P,O,Q,is,Es=ec)=>{let gs=_s(is)?void 0:([F],[q])=>is(F,q);return R(S,P,(F,q,X,ps,Ss,Ns)=>{let ys=0,Ms=js(),vs=js(),rs=f(S);if(Ls(q,([k,ls],as)=>{let b=js(k),Qs=js(ls);Ls(b,fs=>et(Qs,fs)?et(b,fs):0),Ls(b,fs=>{Hs(Ms,fs),qs(Y(rs,fs),Rt=>{et(Rt,as),ut(Rt)&&(W(rs,fs),ys=1)})}),Ls(Qs,fs=>{Hs(Ms,fs),nt(rs,fs)||(W(rs,fs,js()),ys=1),Hs(Y(rs,fs),as),_s(Q)||Hs(vs,fs)})}),F(),ut(Ss)||(Ns?ht(rs,k=>Hs(vs,k)):ht(X,k=>qs(Y(ps,k),ls=>Js(gt(ls)?ls:[ls],as=>Hs(vs,as)))),Ls(vs,k=>{let ls=(b,Qs)=>Es(Y(Ss,b),Y(Ss,Qs),k),as=[...Y(rs,k)];Me(as,ls)||(W(rs,k,js(ve(as,ls))),Hs(Ms,k))})),(ys||Ns)&&!_s(gs)){let k=[...rs];Me(k,gs)||(u(S,ns(ve(k,gs))),ys=1)}ys&&a(n,[S]),Ls(Ms,k=>a(c,[S,k]))},we(O),qs(Q,we)),Z},ds=S=>K((P,O)=>S(P,Q=>Cs(P,Q,O))),ms=(S,P)=>Cs(S,P,f(S)),Cs=(S,P,O)=>{let Q=E(S);Ls(O,(is,Es)=>P(Es,gs=>Ls(is,F=>gs(F,q=>t.forEachCell(Q,F,q)))))},Z={setIndexDefinition:Ts,delIndexDefinition:S=>(N(S),Z),getStore:d,getIndexIds:A,forEachIndex:ds,forEachSlice:ms,hasIndex:p,hasSlice:B,getTableId:E,getSliceIds:S=>ze(f(S)),getSliceRowIds:(S,P)=>hn(Y(f(S),P)),addIndexIdsListener:m,addSliceIdsListener:(S,P)=>r(P,n,[S]),addSliceRowIdsListener:(S,P,O)=>r(O,c,[S,P]),delListener:S=>(L(S),Z),destroy:D,getListenerStats:()=>({sliceIds:be(n),sliceRowIds:Xo(c)})};return sc(Z)});var Os=t=>typeof t;var lc=Os(""),ac=Os(!0),$e=Os(0),fc=Os(Os),Ut="type",Ps="default",Wt="allowNull",hc="null",gc="Listener",uc="add",Ks="Has",It="Ids",ct="Table",Ue=ct+"s",Lc=ct+It,Jt="Row",Tc=Jt+"Count",dc=Jt+It,qt="Cell",We=qt+It,Kt="Value",Ye=Kt+"s",Ec=Kt+It,H=t=>""+t,Ze=t=>(n,c,r)=>t(n)?r?.():c(n),Sc=isFinite,pc=(t,n)=>t instanceof n,$t=t=>t==null,os=t=>t===void 0,Zs=t=>t===null,Cc=Ze($t),J=Ze(os),Oe=t=>t==lc||t==ac,gn=t=>Os(t)==fc,Qe=t=>Array.isArray(t),Be=(t,n,c)=>t.slice(n,c),As=t=>t.length,yc=(t,n)=>t.test(n),un=async(t,n,c)=>{try{return await t()}catch(r){n?.(r)}},Rc=(t,n)=>t.includes(n),mc=(t,n)=>t.every(n),Vc=(t,n)=>As(t)===As(n)&&mc(t,(c,r)=>n[r]===c),Nc=(t,n)=>t.sort(n),yt=(t,n)=>t.forEach(n),Zt=(t,n)=>t.map(n),Mc=(t,n,c)=>t.reduce(n,c),Ot=(t,...n)=>t.push(...n),vc=t=>t.shift(),Lt=t=>{if(Zs(t))return hc;let n=Os(t);return Oe(n)||n==$e&&Sc(t)?n:void 0},ke=(t,n,c,r,a)=>os(a)?t.delCell(n,c,r,!0):t.setCell(n,c,r,a),qe=(t,n,c)=>os(c)?t.delValue(n):t.setValue(n,c),yn=t=>n=>Mc(xc(n),(c,r)=>c+t(r),0),Rn=t=>t?.size??0,mn=yn(Rn),Et=yn(mn),Ln=yn(Et),es=(t,n)=>t?.has(n)??!1,y=t=>os(t)||Rn(t)==0,xc=t=>[...t?.values()??[]],Tn=t=>t.clear(),M=(t,n)=>t?.forEach(n),Qt=(t,n)=>t?.delete(n),Bs=Object,Je=t=>Bs.getPrototypeOf(t),wc=Bs.isFrozen,Xe=Bs.entries,Xt=t=>!$t(t)&&Cc(Je(t),n=>n==Bs.prototype||$t(Je(n)),()=>!0),Dc=Bs.keys,Hc=Bs.freeze,_c=(t=[])=>Bs.fromEntries(t),St=(t,n)=>n in t,Ie=(t,n)=>(delete t[n],t),Fc=(t,n)=>yt(Xe(t),([c,r])=>n(r,c)),Pc=(t,n)=>Zt(Xe(t),([c,r])=>n(r,c)),Us=(t,n)=>_c(Pc(t,(c,r)=>[r,n(c,r)])),Ac=t=>As(Dc(t)),Rs=t=>Xt(t)&&Ac(t)==0,Gs=(t,n,c,r=0)=>$t(t)||!Xt(t)||!r&&Rs(t)||wc(t)?(c?.(),!1):(Fc(t,(a,L)=>{n(a,L)||Ie(t,L)}),r?!0:!Rs(t)),V=t=>new Map(t),Tt=t=>[...t?.keys()??[]],g=(t,n)=>t?.get(n),Ws=(t,n)=>M(t,(c,r)=>n(r,c)),bc=(t,n)=>Zt([...t?.entries()??[]],([c,r])=>n(r,c)),_=(t,n,c)=>os(c)?(Qt(t,n),t):t?.set(n,c),I=(t,n,c,r)=>(es(t,n)?r?.(g(t,n)):_(t,n,c()),g(t,n)),$s=(t,n,c,r=_)=>(Us(n,(a,L)=>c(t,L,a)),Ws(t,a=>St(n,a)?0:r(t,a)),t),hs=(t,n,c,r)=>{let a={};return M(t,(L,d)=>{if(!c?.(L,d)){let A=n?n(L,d):L;r?.(A)||(a[d]=A)}}),a},Sn=(t,n,c)=>hs(t,r=>hs(r,n,c),y,Rs),Yt=(t,n,c)=>hs(t,r=>Sn(r,n,c),y,Rs),Ys=(t,n)=>{let c=V();return M(t,(r,a)=>c.set(a,n?.(r)??r)),c},pn=t=>Ys(t,Ys),dn=t=>Ys(t,pn),Cn=(t,n,c,r,a=0)=>J((c?I:g)(t,n[a],a>As(n)-2?c:V),L=>{if(a>As(n)-2)return r?.(L)&&_(t,n[a]),L;let d=Cn(L,n,c,r,a+1);return y(L)&&_(t,n[a]),d}),zc=JSON.stringify,En=JSON.parse,ot=t=>zc(t,(n,c)=>pc(c,Map)?Bs.fromEntries([...c]):c),jc=(t,n)=>(t??0)<(n??0)?-1:1,Gc=/^\d+$/,so=()=>{let t=[],n=0;return[c=>(c?vc(t):null)??""+n++,c=>{yc(Gc,c)&&As(t)<1e3&&Ot(t,c)}]},pt=t=>new Set(Qe(t)||os(t)?t:[t]),Ct=(t,n)=>t?.add(n),Uc=(t,n=[""])=>{let c=[],r=(a,L)=>L==As(n)?Ot(c,a):Zs(n[L])?M(a,d=>r(d,L+1)):yt([n[L],null],d=>r(g(a,d),L+1));return r(t,0),c},Wc=t=>{let n,[c,r]=so(),a=V();return[(p,E,f,u=[],R=()=>[])=>{n??=t();let N=c(1);return _(a,N,[p,E,f,u,R]),Ct(Cn(E,f??[""],pt),N),N},(p,E,...f)=>yt(Uc(p,E),u=>M(u,R=>g(a,R)[0](n,...E??[],...f))),p=>J(g(a,p),([,E,f])=>(Cn(E,f??[""],void 0,u=>(Qt(u,p),y(u)?1:0)),_(a,p),r(p),f)),p=>J(g(a,p),([E,,f=[],u,R])=>{let N=(...m)=>{let D=As(m);D==As(f)?E(n,...m,...R(m)):Zs(f[D])?yt(u[D]?.(...m)??[],B=>N(...m,B)):N(...m,f[D])};N()})]},Bt=t=>[t,t],G=(t,n=mn)=>n(t[0])+n(t[1]),U=()=>[V(),V()],Ke=t=>[...t],kt=([t,n])=>t===n,dt=(t,n,c)=>_(t,n,g(t,n)==-c?void 0:c),Vn=()=>{let t,n,c=!1,r=!1,a=0,L=[],d=V(),A=V(),K=V(),p=V(),E=V(),f=V(),u=V(),R=V(),N=V(),m=V(),D=V(),B=V(),Ts=V(),ds=V(),ms=pt(),Cs=V(),Vs=V(),v=V(),$=V(),it=U(),C=U(),z=U(),cs=U(),Z=U(),S=U(),P=U(),O=U(),Q=U(),is=U(),Es=U(),gs=U(),F=U(),q=U(),X=U(),ps=U(),Ss=U(),Ns=U(),ys=U(),Ms=U(),vs=U(),rs=U(),k=V(),ls=U(),[as,b,Qs,fs]=Wc(()=>ss),Rt=s=>Gs(s,e=>Gs(e,vn)),oo=s=>Gs(s,vn),vn=s=>{if(!Gs(s,(i,l)=>Rc([Ut,Ps,Wt],l)))return!1;let e=s[Ut];if(!Oe(e)&&e!=$e)return!1;let o=s[Ps];return Zs(o)&&!s[Wt]?!1:(!Zs(o)&&Lt(o)!=e&&Ie(s,Ps),!0)},co=Qe,io=s=>Gs(s,xn,xs),xn=(s,e)=>(!t||es(D,e)||xs(e))&&Gs(s,(o,i)=>mt(e,i,o),()=>xs(e)),mt=(s,e,o,i)=>Gs(i?o:_n(o,s,e),(l,h)=>J(wn(s,e,h,l),T=>(o[h]=T,!0),()=>!1),()=>xs(s,e)),wn=(s,e,o,i)=>t?J(g(g(D,s),o),l=>Zs(i)?l[Wt]?i:xs(s,e,o,i,l[Ps]):Lt(i)==l[Ut]?i:xs(s,e,o,i,l[Ps]),()=>xs(s,e,o,i)):os(Lt(i))?xs(s,e,o,i):i,Dn=(s,e)=>Gs(e?s:ro(s),(o,i)=>J(Hn(i,o),l=>(s[i]=l,!0),()=>!1),()=>Xs()),Hn=(s,e)=>n?J(g(Ts,s),o=>Zs(e)?o[Wt]?e:Xs(s,e,o[Ps]):Lt(e)==o[Ut]?e:Xs(s,e,o[Ps]),()=>Xs(s,e)):os(Lt(e))?Xs(s,e):e,_n=(s,e,o)=>(J(g(B,e),([i,l])=>{M(i,(h,T)=>{St(s,T)||(s[T]=h)}),M(l,h=>{St(s,h)||xs(e,o,h)})}),s),ro=s=>(n&&(M(ds,(e,o)=>{St(s,o)||(s[o]=e)}),M(ms,e=>{St(s,e)||Xs(e)})),s),Fn=s=>$s(D,s,(e,o,i)=>{let l=V(),h=pt();$s(I(D,o,V),i,(T,x,w)=>{_(T,x,w),J(w[Ps],ws=>_(l,x,ws),()=>Ct(h,x))}),_(B,o,[l,h])},(e,o)=>{_(D,o),_(B,o)}),Pn=s=>$s(Ts,s,(e,o,i)=>{_(Ts,o,i),J(i[Ps],l=>_(ds,o,l),()=>Ct(ms,o))},(e,o)=>{_(Ts,o),_(ds,o),Qt(ms,o)}),An=s=>Rs(s)?At():Ft(s),lo=([s,e])=>{(Rs(s)?At:Ft)(s),(Rs(e)?bt:Pt)(e)},bn=s=>$s(v,s,(e,o,i)=>Vt(o,i),(e,o)=>Un(o)),Vt=(s,e)=>$s(I(v,s,()=>(kn(s,1),_(Cs,s,so()),_(Vs,s,V()),V())),e,(o,i,l)=>rt(s,o,i,l),(o,i)=>Wn(s,o,i)),rt=(s,e,o,i,l)=>$s(I(e,o,()=>(qn(s,o,1),V())),i,(h,T,x)=>sn(s,o,h,T,x),(h,T)=>Yn(s,e,o,h,T,l)),sn=(s,e,o,i,l)=>{es(o,i)||Jn(s,e,i,1);let h=g(o,i);l!==h&&(Kn(s,e,i,h,l),_(o,i,l))},zn=(s,e,o,i,l)=>J(g(e,o),h=>sn(s,o,h,i,l),()=>rt(s,e,o,_n({[i]:l},s,o))),jn=s=>Rs(s)?bt():Pt(s),Gn=s=>$s($,s,(e,o,i)=>Nt(o,i),(e,o)=>Bn(o)),Nt=(s,e)=>{es($,s)||$n(s,1);let o=g($,s);e!==o&&(Zn(s,o,e),_($,s,e))},ao=(s,e)=>{let[o]=g(Cs,s),i;do i=o(e);while(es(g(v,s),i));return i},Mt=s=>g(v,s)??Vt(s,{}),Un=s=>Vt(s,{}),Wn=(s,e,o)=>{let[,i]=g(Cs,s);i(o),rt(s,e,o,{},!0)},Yn=(s,e,o,i,l,h)=>{let T=g(g(B,s)?.[0],l);if(!os(T)&&!h)return sn(s,o,i,l,T);let x=w=>{Kn(s,o,w,g(i,w)),Jn(s,o,w,-1),_(i,w)};os(T)?x(l):Ws(i,x),y(i)&&(qn(s,o,-1),y(_(e,o))&&(kn(s,-1),_(v,s),_(Cs,s),_(Vs,s)))},Bn=s=>{let e=g(ds,s);if(!os(e))return Nt(s,e);Zn(s,g($,s)),$n(s,-1),_($,s)},kn=(s,e)=>dt(d,s,e),qn=(s,e,o)=>dt(I(p,s,V),e,o)&&_(K,s,I(K,s,()=>0)+o),Jn=(s,e,o,i)=>{let l=g(Vs,s),h=g(l,o)??0;(h==0&&i==1||h==1&&i==-1)&&dt(I(A,s,V),o,i),_(l,o,h!=-i?h+i:void 0),dt(I(I(E,s,V),e,V),o,i)},Kn=(s,e,o,i,l)=>{I(I(I(f,s,V),e,V),o,()=>[i,0])[1]=l,L[3]?.(s,e,o,l)},$n=(s,e)=>dt(u,s,e),Zn=(s,e,o)=>{I(R,s,()=>[e,0])[1]=o,L[4]?.(s,o)},xs=(s,e,o,i,l)=>(Ot(I(I(I(N,s,V),e,V),o,()=>[]),i),l),Xs=(s,e,o)=>(Ot(I(m,s,()=>[]),e),o),vt=(s,e,o)=>J(g(g(g(f,s),e),o),([i,l])=>[!0,i,l],()=>[!1,...Bt(wt(s,e,o))]),On=s=>J(g(R,s),([e,o])=>[!0,e,o],()=>[!1,...Bt(Dt(s))]),Qn=s=>!y(N)&&!y(ps[s])?M(s?dn(N):N,(e,o)=>M(e,(i,l)=>M(i,(h,T)=>b(ps[s],[o,l,T],h)))):0,Xn=s=>!y(m)&&!y(Ss[s])?M(s?Ys(m):m,(e,o)=>b(Ss[s],[o],e)):0,lt=(s,e,o,i)=>{if(!y(s))return b(e,i,()=>hs(s)),Ws(s,(l,h)=>b(o,[...i??[],l],h==1)),1},In=s=>{let e=Ht();e!=c&&b(it[s],void 0,e);let o=y(is[s]),i=y(F[s])&&y(q[s])&&y(Q[s])&&y(Es[s])&&y(S[s])&&y(P[s])&&y(O[s])&&o&&y(z[s])&&y(cs[s]),l=y(X[s])&&y(gs[s])&&y(Z[s])&&y(C[s]);if(!i||!l){let h=s?[Ys(d),pn(A),Ys(K),pn(p),dn(E),dn(f)]:[d,A,K,p,E,f];if(!i){lt(h[0],z[s],cs[s]),M(h[1],(x,w)=>lt(x,S[s],P[s],[w])),M(h[2],(x,w)=>{x!=0&&b(O[s],[w],ee(w))});let T=pt();M(h[3],(x,w)=>{lt(x,Q[s],Es[s],[w])&&!o&&(b(is[s],[w,null]),Ct(T,w))}),o||M(h[5],(x,w)=>{if(!es(T,w)){let ws=pt();M(x,bs=>M(bs,([zt,jt],at)=>jt!==zt?Ct(ws,at):Qt(bs,at))),M(ws,bs=>b(is[s],[w,bs]))}}),M(h[4],(x,w)=>M(x,(ws,bs)=>lt(ws,F[s],q[s],[w,bs])))}if(!l){let T;M(h[5],(x,w)=>{let ws;M(x,(bs,zt)=>{let jt;M(bs,([at,Ee],zo)=>{Ee!==at&&(b(X[s],[w,zt,zo],Ee,at,vt),T=ws=jt=1)}),jt&&b(gs[s],[w,zt],vt)}),ws&&b(Z[s],[w],vt)}),T&&b(C[s],void 0,vt)}}},se=s=>{let e=_t();e!=r&&b(Ns[s],void 0,e);let o=y(Ms[s])&&y(vs[s]),i=y(rs[s])&&y(ys[s]);if(!o||!i){let l=s?[Ys(u),Ys(R)]:[u,R];if(o||lt(l[0],Ms[s],vs[s]),!i){let h;M(l[1],([T,x],w)=>{x!==T&&(b(rs[s],[w],x,T,On),h=1)}),h&&b(ys[s],void 0,On)}}},j=(s,...e)=>(rn(()=>s(...Zt(e,H))),ss),te=(s,e,o,i,l)=>{let h=xt(s,e,...o);return as(()=>{let T=xt(s,e,...o);Vc(T,h)||(h=T,i(ss,s,e,...o,h))},is[l?1:0],[s,e],[us])},fo=()=>[tn(),en()],tn=()=>Yt(v),us=()=>Tt(v),ho=s=>Sn(g(v,H(s))),ne=s=>Tt(g(Vs,H(s))),ee=s=>Rn(g(v,H(s))),Is=s=>Tt(g(v,H(s))),xt=(s,e,o,i=0,l)=>Xt(s)?xt(s.tableId,s.cellId,s.descending,s.offset,s.limit):Zt(Be(Nc(bc(g(v,H(s)),(h,T)=>[os(e)?T:g(h,H(e)),T]),([h],[T])=>jc(h,T)*(o?-1:1)),i,os(l)?l:i+l),([,h])=>h),go=(s,e)=>hs(g(g(v,H(s)),H(e))),nn=(s,e)=>Tt(g(g(v,H(s)),H(e))),wt=(s,e,o)=>g(g(g(v,H(s)),H(e)),H(o)),en=()=>hs($),on=()=>Tt($),Dt=s=>g($,H(s)),Ht=()=>!y(v),oe=s=>es(v,H(s)),ce=(s,e)=>es(g(Vs,H(s)),H(e)),ie=(s,e)=>es(g(v,H(s)),H(e)),re=(s,e,o)=>es(g(g(v,H(s)),H(e)),H(o)),_t=()=>!y($),le=s=>es($,H(s)),uo=()=>ot(v),Lo=()=>ot($),To=()=>ot([v,$]),Eo=()=>ot(D),So=()=>ot(Ts),po=()=>ot([D,Ts]),Co=s=>j(()=>{let e=gn(s)?s():s;co(e)&&lo(e)}),Ft=s=>j(()=>io(s)?bn(s):0),yo=(s,e)=>j(o=>xn(e,o)?Vt(o,e):0,s),Ro=(s,e,o)=>j((i,l)=>mt(i,l,o)?rt(i,Mt(i),l,o):0,s,e),mo=(s,e,o=!0)=>rn(()=>{let i;return mt(s,i,e)&&(s=H(s),rt(s,Mt(s),i=ao(s,o?1:0),e)),i}),Vo=(s,e,o)=>j((i,l)=>{if(mt(i,l,o,1)){let h=Mt(i);Us(o,(T,x)=>zn(i,h,l,x,T))}},s,e),No=(s,e,o,i)=>j((l,h,T)=>J(wn(l,h,T,gn(i)?i(wt(l,h,T)):i),x=>zn(l,Mt(l),h,T,x)),s,e,o),Pt=s=>j(()=>Dn(s)?Gn(s):0),Mo=s=>j(()=>Dn(s,1)?Us(s,(e,o)=>Nt(o,e)):0),vo=(s,e)=>j(o=>J(Hn(o,gn(e)?e(Dt(o)):e),i=>Nt(o,i)),s),xo=s=>j(()=>{Us(s[0],(e,o)=>os(e)?ge(o):Us(e,(i,l)=>os(i)?ue(o,l):Us(i,(h,T)=>ke(ss,o,l,T,h)))),Us(s[1],(e,o)=>qe(ss,o,e))}),ae=s=>(un(()=>An(En(s))),ss),wo=s=>(un(()=>jn(En(s))),ss),Do=s=>j(()=>un(()=>{let[e,o]=En(s);An(e),jn(o)},()=>ae(s))),fe=s=>j(()=>{if((t=Rt(s))&&(Fn(s),!y(v))){let e=tn();At(),Ft(e)}}),he=s=>j(()=>{if(n=oo(s)){let e=en();cn(),bt(),n=!0,Pn(s),Pt(e)}}),Ho=(s,e)=>j(()=>{fe(s),he(e)}),At=()=>j(()=>bn({})),ge=s=>j(e=>es(v,e)?Un(e):0,s),ue=(s,e)=>j((o,i)=>J(g(v,o),l=>es(l,i)?Wn(o,l,i):0),s,e),_o=(s,e,o,i)=>j((l,h,T)=>J(g(v,l),x=>J(g(x,h),w=>es(w,T)?Yn(l,x,h,w,T,i):0)),s,e,o),bt=()=>j(()=>Gn({})),Fo=s=>j(e=>es($,e)?Bn(e):0,s),Le=()=>j(()=>{Fn({}),t=!1}),cn=()=>j(()=>{Pn({}),n=!1}),Po=()=>j(()=>{Le(),cn()}),rn=(s,e)=>{if(a!=-1){Te();let o=s();return de(e),o}},Te=()=>(a!=-1&&a++,a==1&&(L[0]?.(),b(k)),ss),Ao=()=>[hs(f,(s,e)=>g(d,e)===-1?void 0:hs(s,(o,i)=>g(g(p,e),i)===-1?void 0:hs(o,([,l])=>l,l=>kt(l)),y,Rs),y,Rs),hs(R,([,s])=>s,s=>kt(s)),1],bo=()=>[!y(f),!y(R),Yt(f,Ke,kt),Yt(N),hs(R,Ke,kt),hs(m),hs(d),Sn(p),Yt(E),hs(u)],de=s=>(a>0&&(a--,a==0&&(a=1,Qn(1),y(f)||In(1),Xn(1),y(R)||se(1),s?.(ss)&&(M(f,(e,o)=>M(e,(i,l)=>M(i,([h],T)=>ke(ss,o,l,T,h)))),Tn(f),M(R,([e],o)=>qe(ss,o,e)),Tn(R)),b(ls[0],void 0),a=-1,Qn(0),y(f)||In(0),Xn(0),y(R)||se(0),L[1]?.(),b(ls[1],void 0),L[2]?.(),a=0,c=Ht(),r=_t(),yt([d,A,K,p,E,f,N,u,R,m],Tn))),ss),ss={getContent:fo,getTables:tn,getTableIds:us,getTable:ho,getTableCellIds:ne,getRowCount:ee,getRowIds:Is,getSortedRowIds:xt,getRow:go,getCellIds:nn,getCell:wt,getValues:en,getValueIds:on,getValue:Dt,hasTables:Ht,hasTable:oe,hasTableCell:ce,hasRow:ie,hasCell:re,hasValues:_t,hasValue:le,getTablesJson:uo,getValuesJson:Lo,getJson:To,getTablesSchemaJson:Eo,getValuesSchemaJson:So,getSchemaJson:po,hasTablesSchema:()=>t,hasValuesSchema:()=>n,setContent:Co,setTables:Ft,setTable:yo,setRow:Ro,addRow:mo,setPartialRow:Vo,setCell:No,setValues:Pt,setPartialValues:Mo,setValue:vo,applyChanges:xo,setTablesJson:ae,setValuesJson:wo,setJson:Do,setTablesSchema:fe,setValuesSchema:he,setSchema:Ho,delTables:At,delTable:ge,delRow:ue,delCell:_o,delValues:bt,delValue:Fo,delTablesSchema:Le,delValuesSchema:cn,delSchema:Po,transaction:rn,startTransaction:Te,getTransactionChanges:Ao,getTransactionLog:bo,finishTransaction:de,forEachTable:s=>M(v,(e,o)=>s(o,i=>M(e,(l,h)=>i(h,T=>Ws(l,T))))),forEachTableCell:(s,e)=>Ws(g(Vs,H(s)),e),forEachRow:(s,e)=>M(g(v,H(s)),(o,i)=>e(i,l=>Ws(o,l))),forEachCell:(s,e,o)=>Ws(g(g(v,H(s)),H(e)),o),forEachValue:s=>Ws($,s),addSortedRowIdsListener:(s,e,o,i,l,h,T)=>Xt(s)?te(s.tableId,s.cellId,[s.descending??!1,s.offset??0,s.limit],e,o):te(s,e,[o,i,l],h,T),addStartTransactionListener:s=>as(s,k),addWillFinishTransactionListener:s=>as(s,ls[0]),addDidFinishTransactionListener:s=>as(s,ls[1]),callListener:s=>(fs(s),ss),delListener:s=>(Qs(s),ss),getListenerStats:()=>({hasTables:G(it),tables:G(C),tableIds:G(z),hasTable:G(cs),table:G(Z),tableCellIds:G(S),hasTableCell:G(P,Et),rowCount:G(O),rowIds:G(Q),sortedRowIds:G(is),hasRow:G(Es,Et),row:G(gs,Et),cellIds:G(F,Et),hasCell:G(q,Ln),cell:G(X,Ln),invalidCell:G(ps,Ln),hasValues:G(Ns),values:G(ys),valueIds:G(Ms),hasValue:G(vs),value:G(rs),invalidValue:G(Ss),transaction:mn(k)+G(ls)}),isMergeable:()=>!1,createStore:Vn,addListener:as,callListeners:b,setInternalListeners:(s,e,o,i,l)=>L=[s,e,o,i,l]};return Us({[Ks+Ue]:[0,it,[],()=>[Ht()]],[Ue]:[0,C],[Lc]:[0,z],[Ks+ct]:[1,cs,[us],s=>[oe(...s)]],[ct]:[1,Z,[us]],[ct+We]:[1,S,[us]],[Ks+ct+qt]:[2,P,[us,ne],s=>[ce(...s)]],[Tc]:[1,O,[us]],[dc]:[1,Q,[us]],[Ks+Jt]:[2,Es,[us,Is],s=>[ie(...s)]],[Jt]:[2,gs,[us,Is]],[We]:[2,F,[us,Is]],[Ks+qt]:[3,q,[us,Is,nn],s=>[re(...s)]],[qt]:[3,X,[us,Is,nn],s=>Bt(wt(...s))],InvalidCell:[3,ps],[Ks+Ye]:[0,Ns,[],()=>[_t()]],[Ye]:[0,ys],[Ec]:[0,Ms],[Ks+Kt]:[1,vs,[on],s=>[le(...s)]],[Kt]:[1,rs,[on],s=>Bt(Dt(s[0]))],InvalidValue:[1,Ss]},([s,e,o,i],l)=>{ss[uc+l+gc]=(...h)=>as(h[s],e[h[s+1]?1:0],s>0?Be(h,0,s):void 0,o,i)}),Hc(ss)};var Yc=["id","ids","add","api","del","get","set","use"],eo=(t=!1)=>{addEventListener("load",()=>{let n=Ds("body > header > nav");if(n==null)return;let c=ts("div",null,{id:"search"}),r=ts("input",c,{type:"text",placeholder:(navigator.platform.startsWith("Mac")?"\u2318":"cmd-")+"K Search"}),a=ts("ol",c),L=ts("li",a,{},"No results found"),d=Vn(),A=Ge(d);A.setIndexDefinition("p","p",f=>{let u=[];return f("t").split(" ").forEach(R=>{for(let N=0;N<R.length;N++)u.push(R.slice(0,N+1))}),u},"t",void 0,(f,u,R)=>Mn(u,R)-Mn(f,R)),fetch("/pages.json").then(f=>f.json()).then(f=>{d.transaction(()=>{d.setContent(f),d.forEachRow("p",u=>{let{n:R,s:N}=d.getRow("p",u),m=new Set;Nn(u,m,!0),Nn(R,m),Nn(N,m),d.setCell("p",u,"t",Array.from(m.values()).join(" "))})}),K()});let K=()=>{n.prepend(c);let f=()=>(r.value?ks:ft)(a,"show");r.addEventListener("focus",f),r.addEventListener("input",()=>{f(),p()}),r.addEventListener("blur",()=>ft(a,"show")),E()},p=()=>{let f=r.value.toLowerCase().split(/[^a-z0-9]+/),u=new Map;f.forEach(m=>A.getSliceRowIds("p",m).slice(0,50).forEach(D=>u.set(D,(u.get(D)??0)+Mn(d.getCell("p",D,"t"),m))));let R=Array.from(u.keys()).sort((m,D)=>u.get(D)-u.get(m)).slice(0,10),N=R.length==0?[L]:R.map((m,D)=>{let B=ts("li"),{n:Ts,s:ds}=d.getRow("p",m);return to(ts("b",B),Ts,f[0]),to(ts("span",B),ds,f[0]),B.title=ds,B.addEventListener("mousedown",()=>t?location.href=m:Re(m)),D==0&&ks(B,"hover"),B});a.replaceChildren(...N)},E=()=>addEventListener("keydown",f=>{if(tt.activeElement==r){let u=st(a,".hover");switch(f.code){case"Escape":return r.blur();case"ArrowDown":return Gt(f),no(u,u?.nextSibling??a.firstChild);case"ArrowUp":return Gt(f),no(u,u?.previousSibling??a.lastChild);case"Enter":return u?.dispatchEvent(new MouseEvent("mousedown"))}}else f.code=="KeyK"&&f.metaKey&&(r.focus(),Gt(f))})})},to=(t,n,c)=>{let r=n.toLowerCase().indexOf(c);t.innerHTML=r==-1?n:n.substring(0,r)+"<em>"+n.substring(r,r+c.length)+"</em>"+n.substring(r+c.length)},no=(t,n)=>{t!=n&&(t&&ft(t,"hover"),n&&(ks(n,"hover"),n.scrollIntoView({block:"nearest",inline:"nearest"})))},Nn=(t,n,c)=>{let r=t.replaceAll(/[^a-zA-Z0-9]/g," ").split(/\s+/);c&&r.reverse(),r.forEach(a=>{[a,...a.replaceAll(/([a-z])([A-Z])/g,"$1 $2").split(" ")].forEach(L=>{let d=L.toLowerCase();(d.length>3||Yc.includes(d))&&n.add(d)})})},Mn=(t,n)=>{let c=t.length,r=t.indexOf(n);return r===-1?0:(c-r)/c};pe();Ve();eo(!0);})();

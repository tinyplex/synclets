"use strict";(()=>{var Se="v0.0.7";var zo="TinyBase",st=document,pe=()=>{addEventListener("load",()=>{let t=Ds("#version");t.innerText=Se,t.style.width=t.scrollWidth+"px"})},jo=null,Ce=()=>jo??=Ds("body > main > nav"),Go=null,ye=()=>Go??=Ds("body > main > article"),Gt=t=>t.preventDefault(),Ds=t=>st.querySelector(t),Is=(t,n)=>t.querySelector(n),Wo=t=>st.getElementById(t),ts=(t,n,c={},r)=>{let a=st.createElement(t);return Object.entries(c).forEach(d=>a.setAttribute(...d)),r!=null&&(a.innerText=r),n!=null?n.appendChild(a):a},ks=(t,n)=>t.classList.add(n);var ft=(t,n)=>t.classList.remove(n);var Re=(t,n=!0)=>{let c=Ce();["?","#"].forEach(r=>{t.includes(r)&&(t=t.substring(0,t.indexOf(r)))}),fetch(`${t}nav.json`).then(r=>r.json()).then(r=>{ft(Is(c,"li.current"),"current"),me(r,Is(c,"ul"))}),fetch(`${t}article.html`).then(r=>r.text()).then(r=>{let a=ye();a.innerHTML=r,a.scrollTo(0,0),Yo()}),n&&history.pushState(null,"",t)},Yo=()=>{let t=Is(ye(),":scope iframe"),n=t?.parentElement;if(t==null||n==null)return;let c=n.insertBefore(ts("form",null,{action:"https://codepen.io/pen/define",method:"post",target:"_blank"}),t);n.insertBefore(ts("a",null,{id:"penEdit"},"Open this demo in CodePen"),t).onclick=()=>{c.childNodes.length==0?fetch("pen.json").then(r=>r.text()).then(r=>{ts("input",c,{type:"hidden",name:"data",value:r}),c.submit()}):c.submit()}},me=({i:t,n,u:c,r,c:a,p:d,o:L,_:A},K)=>{let p=Ce(),E=Wo(t);if(E==null){E=ts("li",K,{id:t}),ts("span",E);let f=ts("a",E,{href:c});r?ts("code",f,{},n):f.innerText=n,d&&ks(E,"parent")}if(L&&ks(E,"open"),A!=null){let f=Is(E,"ul")??ts("ul",E);A.forEach(u=>{me(u,f)})}if(a){ks(E,"current"),st.title=`${n} | ${zo}`;let f=E.getBoundingClientRect(),u=p.getBoundingClientRect();f.top<u.top?p.scrollBy(0,f.top-u.top):f.bottom>u.bottom&&p.scrollBy(0,Math.min(f.bottom-u.bottom,f.top-u.top))}};var bs="dark",ln="light",an="auto",Ve=()=>{let t=matchMedia("(prefers-color-scheme: dark)"),n=()=>{let c=localStorage.getItem(bs)??an;Ds("#dark")?.setAttribute("class",c),Ds("html").className=c==bs||c==an&&t.matches?bs:ln};t.addEventListener("change",n),window.addEventListener("storage",c=>{c.storageArea==localStorage&&c.key==bs&&n()}),addEventListener("load",()=>{Ds("#dark").addEventListener("click",()=>{let c=localStorage.getItem(bs);localStorage.setItem(bs,c==bs?ln:c==ln?an:bs),n()}),n()}),n()};var De=t=>typeof t;var Bo=De(""),Ne=t=>""+t,Uo=t=>(n,c,r)=>t(n)?r?.():c(n),js=t=>t===void 0,ko=t=>t===null,qs=Uo(js),qo=t=>De(t)==Bo,gt=t=>Array.isArray(t),_s=t=>t.length,Jo=(t,n)=>t.test(n),He=(t,n)=>t.every(n),Ko=(t,n)=>_s(t)===_s(n)&&He(t,(c,r)=>n[r]===c),Me=(t,n)=>He(t,(c,r)=>r==0||n(t[r-1],c)<=0),ve=(t,n)=>t.sort(n),Js=(t,n)=>t.forEach(n),$o=(t,n)=>t.map(n),Zo=t=>_s(t)==0,Oo=(t,n,c)=>t.reduce(n,c),_e=(t,...n)=>t.push(...n),Qo=t=>t.shift(),Fe=t=>n=>Oo(hn(n),(c,r)=>c+t(r),0),Pe=t=>t?.size??0,Ae=Fe(Pe),Xo=Fe(Ae),tt=(t,n)=>t?.has(n)??!1,ut=t=>js(t)||Pe(t)==0,hn=t=>[...t?.values()??[]],xe=t=>t.clear(),ds=(t,n)=>t?.forEach(n),nt=(t,n)=>t?.delete(n),Io=Object,sc=Io.freeze,ns=t=>new Map(t),be=t=>[...t?.keys()??[]],B=(t,n)=>t?.get(n),ht=(t,n)=>ds(t,(c,r)=>n(r,c)),Y=(t,n,c)=>c===void 0?(nt(t,n),t):t?.set(n,c),ze=(t,n,c,r)=>(tt(t,n)?r?.(B(t,n)):Y(t,n,c()),B(t,n)),fn=(t,n,c,r,a=0)=>qs((c?ze:B)(t,n[a],a>_s(n)-2?c:ns),d=>{if(a>_s(n)-2)return r?.(d)&&Y(t,n[a]),d;let L=fn(d,n,c,r,a+1);return ut(d)&&Y(t,n[a]),L}),zs=t=>new Set(gt(t)||js(t)?t:[t]),Hs=(t,n)=>t?.add(n),tc=(t,n,c,r,a)=>{let d=t.hasRow,L=ns(),A=ns(),K=ns(),p=ns(),E=ns(),f=ns(),u=()=>t,R=()=>be(L),N=C=>ht(A,C),m=C=>tt(A,C),D=C=>B(L,C),U=C=>B(A,C),Ts=(C,z)=>Y(A,C,z),Ls=(C,z,...os)=>{let Z=ze(f,C,zs);return Js(os,S=>Hs(Z,S)&&z&&t.callListener(S)),os},ms=(C,...z)=>qs(B(f,C),os=>{Js(Zo(z)?hn(os):z,Z=>{t.delListener(Z),nt(os,Z)}),ut(os)&&Y(f,C)}),Cs=(C,z)=>{Y(L,C,z),tt(A,C)||(Y(A,C,n()),Y(p,C,ns()),Y(E,C,ns()),a(K))},Vs=(C,z,os,Z,S)=>{Cs(C,z);let P=ns(),O=ns(),Q=B(p,C),cs=B(E,C),Es=F=>{let q=Ss=>t.getCell(z,F,Ss),X=B(Q,F),ps=d(z,F)?c(Z(q,F)):void 0;if(X===ps||gt(X)&&gt(ps)&&Ko(X,ps)||Y(P,F,[X,ps]),!js(S)){let Ss=B(cs,F),Ns=d(z,F)?S(q,F):void 0;Ss!=Ns&&Y(O,F,Ns)}},gs=F=>{os(()=>{ds(P,([,q],X)=>Y(Q,X,q)),ds(O,(q,X)=>Y(cs,X,q))},P,O,Q,cs,F),xe(P),xe(O)};ht(Q,Es),t.hasTable(z)&&Js(t.getRowIds(z),F=>{tt(Q,F)||Es(F)}),gs(!0),ms(C),Ls(C,0,t.addRowListener(z,null,(F,q,X)=>Es(X)),t.addTableListener(z,()=>gs()))},v=C=>{Y(L,C),Y(A,C),Y(p,C),Y(E,C),ms(C),a(K)};return[u,R,N,m,D,U,Ts,Cs,Vs,v,C=>r(C,K),()=>ht(f,v),Ls,ms]},we=(t,n)=>qo(t)?c=>c(t):t??(()=>n??""),nc=(t,n)=>{let c=new WeakMap;return r=>(c.has(r)||c.set(r,t(r)),c.get(r))},ec=(t,n)=>(t??0)<(n??0)?-1:1,oc=/^\d+$/,cc=()=>{let t=[],n=0;return[c=>(c?Qo(t):null)??""+n++,c=>{Jo(oc,c)&&_s(t)<1e3&&_e(t,c)}]},ic=(t,n=[""])=>{let c=[],r=(a,d)=>d==_s(n)?_e(c,a):n[d]===null?ds(a,L=>r(L,d+1)):Js([n[d],null],L=>r(B(a,L),d+1));return r(t,0),c},rc=t=>{let n,[c,r]=cc(),a=ns();return[(p,E,f,u=[],R=()=>[])=>{n??=t();let N=c(1);return Y(a,N,[p,E,f,u,R]),Hs(fn(E,f??[""],zs),N),N},(p,E,...f)=>Js(ic(p,E),u=>ds(u,R=>B(a,R)[0](n,...E??[],...f))),p=>qs(B(a,p),([,E,f])=>(fn(E,f??[""],void 0,u=>(nt(u,p),ut(u)?1:0)),Y(a,p),r(p),f)),p=>qs(B(a,p),([E,,f=[],u,R])=>{let N=(...m)=>{let D=_s(m);D==_s(f)?E(n,...m,...R(m)):ko(f[D])?Js(u[D]?.(...m)??[],U=>N(...m,U)):N(...m,f[D])};N()})]},je=nc(t=>{let n=ns(),c=ns(),[r,a,d]=rc(()=>Z),[L,A,K,p,E,f,u,,R,N,m,D]=tc(t,ns,S=>js(S)?"":gt(S)?$o(S,Ne):Ne(S),r,a),U=(S,P)=>tt(f(S),P),Ts=(S,P,O,Q,cs,Es=ec)=>{let gs=js(cs)?void 0:([F],[q])=>cs(F,q);return R(S,P,(F,q,X,ps,Ss,Ns)=>{let ys=0,Ms=zs(),vs=zs(),is=f(S);if(ds(q,([k,rs],ls)=>{let b=zs(k),Os=zs(rs);ds(b,as=>nt(Os,as)?nt(b,as):0),ds(b,as=>{Hs(Ms,as),qs(B(is,as),Rt=>{nt(Rt,ls),ut(Rt)&&(Y(is,as),ys=1)})}),ds(Os,as=>{Hs(Ms,as),tt(is,as)||(Y(is,as,zs()),ys=1),Hs(B(is,as),ls),js(Q)||Hs(vs,as)})}),F(),ut(Ss)||(Ns?ht(is,k=>Hs(vs,k)):ht(X,k=>qs(B(ps,k),rs=>Js(gt(rs)?rs:[rs],ls=>Hs(vs,ls)))),ds(vs,k=>{let rs=(b,Os)=>Es(B(Ss,b),B(Ss,Os),k),ls=[...B(is,k)];Me(ls,rs)||(Y(is,k,zs(ve(ls,rs))),Hs(Ms,k))})),(ys||Ns)&&!js(gs)){let k=[...is];Me(k,gs)||(u(S,ns(ve(k,gs))),ys=1)}ys&&a(n,[S]),ds(Ms,k=>a(c,[S,k]))},we(O),qs(Q,we)),Z},Ls=S=>K((P,O)=>S(P,Q=>Cs(P,Q,O))),ms=(S,P)=>Cs(S,P,f(S)),Cs=(S,P,O)=>{let Q=E(S);ds(O,(cs,Es)=>P(Es,gs=>ds(cs,F=>gs(F,q=>t.forEachCell(Q,F,q)))))},Z={setIndexDefinition:Ts,delIndexDefinition:S=>(N(S),Z),getStore:L,getIndexIds:A,forEachIndex:Ls,forEachSlice:ms,hasIndex:p,hasSlice:U,getTableId:E,getSliceIds:S=>be(f(S)),getSliceRowIds:(S,P)=>hn(B(f(S),P)),addIndexIdsListener:m,addSliceIdsListener:(S,P)=>r(P,n,[S]),addSliceRowIdsListener:(S,P,O)=>r(O,c,[S,P]),delListener:S=>(d(S),Z),destroy:D,getListenerStats:()=>({sliceIds:Ae(n),sliceRowIds:Xo(c)})};return sc(Z)});var Zs=t=>typeof t;var lc=Zs(""),ac=Zs(!0),Ke=Zs(0),fc=Zs(Zs),Wt="type",Fs="default",Yt="allowNull",hc="Listener",gc="add",Ks="Has",It="Ids",ot="Table",Ge=ot+"s",uc=ot+It,Jt="Row",dc=Jt+"Count",Tc=Jt+It,qt="Cell",We=qt+It,Kt="Value",Ye=Kt+"s",Lc=Kt+It,H=t=>""+t,$e=t=>(n,c,r)=>t(n)?r?.():c(n),Ec=isFinite,Sc=(t,n)=>t instanceof n,$t=t=>t==null,hs=t=>t===void 0,ct=t=>t===null,pc=$e($t),J=$e(hs),Ze=t=>t==lc||t==ac,gn=t=>Zs(t)==fc,Oe=t=>Array.isArray(t),Be=(t,n,c)=>t.slice(n,c),Ps=t=>t.length,Cc=(t,n)=>t.test(n),un=async(t,n,c)=>{try{return await t()}catch(r){n?.(r)}},yc=(t,n)=>t.includes(n),Rc=(t,n)=>t.every(n),mc=(t,n)=>Ps(t)===Ps(n)&&Rc(t,(c,r)=>n[r]===c),Vc=(t,n)=>t.sort(n),yt=(t,n)=>t.forEach(n),Zt=(t,n)=>t.map(n),Nc=(t,n,c)=>t.reduce(n,c),Ot=(t,...n)=>t.push(...n),Mc=t=>t.shift(),dt=t=>{if(ct(t))return"null";let n=Zs(t);return Ze(n)||n==Ke&&Ec(t)?n:void 0},Ue=(t,n,c,r,a)=>hs(a)?t.delCell(n,c,r,!0):t.setCell(n,c,r,a),ke=(t,n,c)=>hs(c)?t.delValue(n):t.setValue(n,c),yn=t=>n=>Nc(vc(n),(c,r)=>c+t(r),0),Rn=t=>t?.size??0,mn=yn(Rn),Et=yn(mn),dn=yn(Et),es=(t,n)=>t?.has(n)??!1,y=t=>hs(t)||Rn(t)==0,vc=t=>[...t?.values()??[]],Tn=t=>t.clear(),M=(t,n)=>t?.forEach(n),Qt=(t,n)=>t?.delete(n),Us=Object,qe=t=>Us.getPrototypeOf(t),xc=Us.isFrozen,Qe=Us.entries,Xt=t=>!$t(t)&&pc(qe(t),n=>n==Us.prototype||$t(qe(n)),()=>!0),wc=Us.keys,Dc=Us.freeze,Hc=(t=[])=>Us.fromEntries(t),St=(t,n)=>n in t,Xe=(t,n)=>(delete t[n],t),_c=(t,n)=>yt(Qe(t),([c,r])=>n(r,c)),Fc=(t,n)=>Zt(Qe(t),([c,r])=>n(r,c)),Ws=(t,n)=>Hc(Fc(t,(c,r)=>[r,n(c,r)])),Pc=t=>Ps(wc(t)),Rs=t=>Xt(t)&&Pc(t)==0,Gs=(t,n,c,r=0)=>$t(t)||!Xt(t)||!r&&Rs(t)||xc(t)?(c?.(),!1):(_c(t,(a,d)=>{n(a,d)||Xe(t,d)}),r?!0:!Rs(t)),V=t=>new Map(t),Tt=t=>[...t?.keys()??[]],g=(t,n)=>t?.get(n),Ys=(t,n)=>M(t,(c,r)=>n(r,c)),Ac=(t,n)=>Zt([...t?.entries()??[]],([c,r])=>n(r,c)),_=(t,n,c)=>c===void 0?(Qt(t,n),t):t?.set(n,c),I=(t,n,c,r)=>(es(t,n)?r?.(g(t,n)):_(t,n,c()),g(t,n)),$s=(t,n,c,r=_)=>(Ws(n,(a,d)=>c(t,d,a)),Ys(t,a=>St(n,a)?0:r(t,a)),t),fs=(t,n,c,r)=>{let a={};return M(t,(d,L)=>{if(!c?.(d,L)){let A=n?n(d,L):d;r?.(A)||(a[L]=A)}}),a},Sn=(t,n,c)=>fs(t,r=>fs(r,n,c),y,Rs),Bt=(t,n,c)=>fs(t,r=>Sn(r,n,c),y,Rs),Bs=(t,n)=>{let c=V();return M(t,(r,a)=>c.set(a,n?.(r)??r)),c},pn=t=>Bs(t,Bs),Ln=t=>Bs(t,pn),Cn=(t,n,c,r,a=0)=>J((c?I:g)(t,n[a],a>Ps(n)-2?c:V),d=>{if(a>Ps(n)-2)return r?.(d)&&_(t,n[a]),d;let L=Cn(d,n,c,r,a+1);return y(d)&&_(t,n[a]),L}),bc=JSON.stringify,En=JSON.parse,et=t=>bc(t,(n,c)=>Sc(c,Map)?Us.fromEntries([...c]):c),zc=(t,n)=>(t??0)<(n??0)?-1:1,jc=/^\d+$/,Ie=()=>{let t=[],n=0;return[c=>(c?Mc(t):null)??""+n++,c=>{Cc(jc,c)&&Ps(t)<1e3&&Ot(t,c)}]},pt=t=>new Set(Oe(t)||hs(t)?t:[t]),Ct=(t,n)=>t?.add(n),Gc=(t,n=[""])=>{let c=[],r=(a,d)=>d==Ps(n)?Ot(c,a):n[d]===null?M(a,L=>r(L,d+1)):yt([n[d],null],L=>r(g(a,L),d+1));return r(t,0),c},Wc=t=>{let n,[c,r]=Ie(),a=V();return[(p,E,f,u=[],R=()=>[])=>{n??=t();let N=c(1);return _(a,N,[p,E,f,u,R]),Ct(Cn(E,f??[""],pt),N),N},(p,E,...f)=>yt(Gc(p,E),u=>M(u,R=>g(a,R)[0](n,...E??[],...f))),p=>J(g(a,p),([,E,f])=>(Cn(E,f??[""],void 0,u=>(Qt(u,p),y(u)?1:0)),_(a,p),r(p),f)),p=>J(g(a,p),([E,,f=[],u,R])=>{let N=(...m)=>{let D=Ps(m);D==Ps(f)?E(n,...m,...R(m)):ct(f[D])?yt(u[D]?.(...m)??[],U=>N(...m,U)):N(...m,f[D])};N()})]},Ut=t=>[t,t],G=(t,n=mn)=>n(t[0])+n(t[1]),W=()=>[V(),V()],Je=t=>[...t],kt=([t,n])=>t===n,Lt=(t,n,c)=>_(t,n,g(t,n)==-c?void 0:c),Vn=()=>{let t,n,c=!1,r=!1,a=0,d=[],L=V(),A=V(),K=V(),p=V(),E=V(),f=V(),u=V(),R=V(),N=V(),m=V(),D=V(),U=V(),Ts=V(),Ls=V(),ms=pt(),Cs=V(),Vs=V(),v=V(),$=V(),it=W(),C=W(),z=W(),os=W(),Z=W(),S=W(),P=W(),O=W(),Q=W(),cs=W(),Es=W(),gs=W(),F=W(),q=W(),X=W(),ps=W(),Ss=W(),Ns=W(),ys=W(),Ms=W(),vs=W(),is=W(),k=V(),rs=W(),[ls,b,Os,as]=Wc(()=>ss),Rt=s=>Gs(s,e=>Gs(e,vn)),eo=s=>Gs(s,vn),vn=s=>{if(!Gs(s,(i,l)=>yc([Wt,Fs,Yt],l)))return!1;let e=s[Wt];if(!Ze(e)&&e!=Ke)return!1;let o=s[Fs];return ct(o)&&!s[Yt]?!1:(!ct(o)&&dt(o)!=e&&Xe(s,Fs),!0)},oo=Oe,co=s=>Gs(s,xn,xs),xn=(s,e)=>(!t||es(D,e)||xs(e))&&Gs(s,(o,i)=>mt(e,i,o),()=>xs(e)),mt=(s,e,o,i)=>Gs(i?o:_n(o,s,e),(l,h)=>J(wn(s,e,h,l),T=>(o[h]=T,!0),()=>!1),()=>xs(s,e)),wn=(s,e,o,i)=>t?J(g(g(D,s),o),l=>ct(i)?l[Yt]?i:xs(s,e,o,i,l[Fs]):dt(i)==l[Wt]?i:xs(s,e,o,i,l[Fs]),()=>xs(s,e,o,i)):hs(dt(i))?xs(s,e,o,i):i,Dn=(s,e)=>Gs(e?s:io(s),(o,i)=>J(Hn(i,o),l=>(s[i]=l,!0),()=>!1),()=>Qs()),Hn=(s,e)=>n?J(g(Ts,s),o=>ct(e)?o[Yt]?e:Qs(s,e,o[Fs]):dt(e)==o[Wt]?e:Qs(s,e,o[Fs]),()=>Qs(s,e)):hs(dt(e))?Qs(s,e):e,_n=(s,e,o)=>(J(g(U,e),([i,l])=>{M(i,(h,T)=>{St(s,T)||(s[T]=h)}),M(l,h=>{St(s,h)||xs(e,o,h)})}),s),io=s=>(n&&(M(Ls,(e,o)=>{St(s,o)||(s[o]=e)}),M(ms,e=>{St(s,e)||Qs(e)})),s),Fn=s=>$s(D,s,(e,o,i)=>{let l=V(),h=pt();$s(I(D,o,V),i,(T,x,w)=>{_(T,x,w),J(w[Fs],ws=>_(l,x,ws),()=>Ct(h,x))}),_(U,o,[l,h])},(e,o)=>{_(D,o),_(U,o)}),Pn=s=>$s(Ts,s,(e,o,i)=>{_(Ts,o,i),J(i[Fs],l=>_(Ls,o,l),()=>Ct(ms,o))},(e,o)=>{_(Ts,o),_(Ls,o),Qt(ms,o)}),An=s=>Rs(s)?At():Ft(s),ro=([s,e])=>{(Rs(s)?At:Ft)(s),(Rs(e)?bt:Pt)(e)},bn=s=>$s(v,s,(e,o,i)=>Vt(o,i),(e,o)=>Wn(o)),Vt=(s,e)=>$s(I(v,s,()=>(kn(s,1),_(Cs,s,Ie()),_(Vs,s,V()),V())),e,(o,i,l)=>rt(s,o,i,l),(o,i)=>Yn(s,o,i)),rt=(s,e,o,i,l)=>$s(I(e,o,()=>(qn(s,o,1),V())),i,(h,T,x)=>sn(s,o,h,T,x),(h,T)=>Bn(s,e,o,h,T,l)),sn=(s,e,o,i,l)=>{es(o,i)||Jn(s,e,i,1);let h=g(o,i);l!==h&&(Kn(s,e,i,h,l),_(o,i,l))},zn=(s,e,o,i,l)=>J(g(e,o),h=>sn(s,o,h,i,l),()=>rt(s,e,o,_n({[i]:l},s,o))),jn=s=>Rs(s)?bt():Pt(s),Gn=s=>$s($,s,(e,o,i)=>Nt(o,i),(e,o)=>Un(o)),Nt=(s,e)=>{es($,s)||$n(s,1);let o=g($,s);e!==o&&(Zn(s,o,e),_($,s,e))},lo=(s,e)=>{let[o]=g(Cs,s),i;do i=o(e);while(es(g(v,s),i));return i},Mt=s=>g(v,s)??Vt(s,{}),Wn=s=>Vt(s,{}),Yn=(s,e,o)=>{let[,i]=g(Cs,s);i(o),rt(s,e,o,{},!0)},Bn=(s,e,o,i,l,h)=>{let T=g(g(U,s)?.[0],l);if(!hs(T)&&!h)return sn(s,o,i,l,T);let x=w=>{Kn(s,o,w,g(i,w)),Jn(s,o,w,-1),_(i,w)};hs(T)?x(l):Ys(i,x),y(i)&&(qn(s,o,-1),y(_(e,o))&&(kn(s,-1),_(v,s),_(Cs,s),_(Vs,s)))},Un=s=>{let e=g(Ls,s);if(!hs(e))return Nt(s,e);Zn(s,g($,s)),$n(s,-1),_($,s)},kn=(s,e)=>Lt(L,s,e),qn=(s,e,o)=>Lt(I(p,s,V),e,o)&&_(K,s,I(K,s,()=>0)+o),Jn=(s,e,o,i)=>{let l=g(Vs,s),h=g(l,o)??0;(h==0&&i==1||h==1&&i==-1)&&Lt(I(A,s,V),o,i),_(l,o,h!=-i?h+i:void 0),Lt(I(I(E,s,V),e,V),o,i)},Kn=(s,e,o,i,l)=>{I(I(I(f,s,V),e,V),o,()=>[i,0])[1]=l,d[3]?.(s,e,o,l)},$n=(s,e)=>Lt(u,s,e),Zn=(s,e,o)=>{I(R,s,()=>[e,0])[1]=o,d[4]?.(s,o)},xs=(s,e,o,i,l)=>(Ot(I(I(I(N,s,V),e,V),o,()=>[]),i),l),Qs=(s,e,o)=>(Ot(I(m,s,()=>[]),e),o),vt=(s,e,o)=>J(g(g(g(f,s),e),o),([i,l])=>[!0,i,l],()=>[!1,...Ut(wt(s,e,o))]),On=s=>J(g(R,s),([e,o])=>[!0,e,o],()=>[!1,...Ut(Dt(s))]),Qn=s=>!y(N)&&!y(ps[s])?M(s?Ln(N):N,(e,o)=>M(e,(i,l)=>M(i,(h,T)=>b(ps[s],[o,l,T],h)))):0,Xn=s=>!y(m)&&!y(Ss[s])?M(s?Bs(m):m,(e,o)=>b(Ss[s],[o],e)):0,lt=(s,e,o,i)=>{if(!y(s))return b(e,i,()=>fs(s)),Ys(s,(l,h)=>b(o,[...i??[],l],h==1)),1},In=s=>{let e=Ht();e!=c&&b(it[s],void 0,e);let o=y(cs[s]),i=y(F[s])&&y(q[s])&&y(Q[s])&&y(Es[s])&&y(S[s])&&y(P[s])&&y(O[s])&&o&&y(z[s])&&y(os[s]),l=y(X[s])&&y(gs[s])&&y(Z[s])&&y(C[s]);if(!i||!l){let h=s?[Bs(L),pn(A),Bs(K),pn(p),Ln(E),Ln(f)]:[L,A,K,p,E,f];if(!i){lt(h[0],z[s],os[s]),M(h[1],(x,w)=>lt(x,S[s],P[s],[w])),M(h[2],(x,w)=>{x!=0&&b(O[s],[w],ee(w))});let T=pt();M(h[3],(x,w)=>{lt(x,Q[s],Es[s],[w])&&!o&&(b(cs[s],[w,null]),Ct(T,w))}),o||M(h[5],(x,w)=>{if(!es(T,w)){let ws=pt();M(x,As=>M(As,([zt,jt],at)=>jt!==zt?Ct(ws,at):Qt(As,at))),M(ws,As=>b(cs[s],[w,As]))}}),M(h[4],(x,w)=>M(x,(ws,As)=>lt(ws,F[s],q[s],[w,As])))}if(!l){let T;M(h[5],(x,w)=>{let ws;M(x,(As,zt)=>{let jt;M(As,([at,Ee],bo)=>{Ee!==at&&(b(X[s],[w,zt,bo],Ee,at,vt),T=ws=jt=1)}),jt&&b(gs[s],[w,zt],vt)}),ws&&b(Z[s],[w],vt)}),T&&b(C[s],void 0,vt)}}},se=s=>{let e=_t();e!=r&&b(Ns[s],void 0,e);let o=y(Ms[s])&&y(vs[s]),i=y(is[s])&&y(ys[s]);if(!o||!i){let l=s?[Bs(u),Bs(R)]:[u,R];if(o||lt(l[0],Ms[s],vs[s]),!i){let h;M(l[1],([T,x],w)=>{x!==T&&(b(is[s],[w],x,T,On),h=1)}),h&&b(ys[s],void 0,On)}}},j=(s,...e)=>(rn(()=>s(...Zt(e,H))),ss),te=(s,e,o,i,l)=>{let h=xt(s,e,...o);return ls(()=>{let T=xt(s,e,...o);mc(T,h)||(h=T,i(ss,s,e,...o,h))},cs[l?1:0],[s,e],[us])},ao=()=>[tn(),en()],tn=()=>Bt(v),us=()=>Tt(v),fo=s=>Sn(g(v,H(s))),ne=s=>Tt(g(Vs,H(s))),ee=s=>Rn(g(v,H(s))),Xs=s=>Tt(g(v,H(s))),xt=(s,e,o,i=0,l)=>Xt(s)?xt(s.tableId,s.cellId,s.descending,s.offset,s.limit):Zt(Be(Vc(Ac(g(v,H(s)),(h,T)=>[hs(e)?T:g(h,H(e)),T]),([h],[T])=>zc(h,T)*(o?-1:1)),i,hs(l)?l:i+l),([,h])=>h),ho=(s,e)=>fs(g(g(v,H(s)),H(e))),nn=(s,e)=>Tt(g(g(v,H(s)),H(e))),wt=(s,e,o)=>g(g(g(v,H(s)),H(e)),H(o)),en=()=>fs($),on=()=>Tt($),Dt=s=>g($,H(s)),Ht=()=>!y(v),oe=s=>es(v,H(s)),ce=(s,e)=>es(g(Vs,H(s)),H(e)),ie=(s,e)=>es(g(v,H(s)),H(e)),re=(s,e,o)=>es(g(g(v,H(s)),H(e)),H(o)),_t=()=>!y($),le=s=>es($,H(s)),go=()=>et(v),uo=()=>et($),To=()=>et([v,$]),Lo=()=>et(D),Eo=()=>et(Ts),So=()=>et([D,Ts]),po=s=>j(()=>{let e=gn(s)?s():s;oo(e)&&ro(e)}),Ft=s=>j(()=>co(s)?bn(s):0),Co=(s,e)=>j(o=>xn(e,o)?Vt(o,e):0,s),yo=(s,e,o)=>j((i,l)=>mt(i,l,o)?rt(i,Mt(i),l,o):0,s,e),Ro=(s,e,o=!0)=>rn(()=>{let i;return mt(s,i,e)&&(s=H(s),rt(s,Mt(s),i=lo(s,o?1:0),e)),i}),mo=(s,e,o)=>j((i,l)=>{if(mt(i,l,o,1)){let h=Mt(i);Ws(o,(T,x)=>zn(i,h,l,x,T))}},s,e),Vo=(s,e,o,i)=>j((l,h,T)=>J(wn(l,h,T,gn(i)?i(wt(l,h,T)):i),x=>zn(l,Mt(l),h,T,x)),s,e,o),Pt=s=>j(()=>Dn(s)?Gn(s):0),No=s=>j(()=>Dn(s,1)?Ws(s,(e,o)=>Nt(o,e)):0),Mo=(s,e)=>j(o=>J(Hn(o,gn(e)?e(Dt(o)):e),i=>Nt(o,i)),s),vo=s=>j(()=>{Ws(s[0],(e,o)=>hs(e)?ge(o):Ws(e,(i,l)=>hs(i)?ue(o,l):Ws(i,(h,T)=>Ue(ss,o,l,T,h)))),Ws(s[1],(e,o)=>ke(ss,o,e))}),ae=s=>(un(()=>An(En(s))),ss),xo=s=>(un(()=>jn(En(s))),ss),wo=s=>j(()=>un(()=>{let[e,o]=En(s);An(e),jn(o)},()=>ae(s))),fe=s=>j(()=>{if((t=Rt(s))&&(Fn(s),!y(v))){let e=tn();At(),Ft(e)}}),he=s=>j(()=>{if(n=eo(s)){let e=en();cn(),bt(),n=!0,Pn(s),Pt(e)}}),Do=(s,e)=>j(()=>{fe(s),he(e)}),At=()=>j(()=>bn({})),ge=s=>j(e=>es(v,e)?Wn(e):0,s),ue=(s,e)=>j((o,i)=>J(g(v,o),l=>es(l,i)?Yn(o,l,i):0),s,e),Ho=(s,e,o,i)=>j((l,h,T)=>J(g(v,l),x=>J(g(x,h),w=>es(w,T)?Bn(l,x,h,w,T,i):0)),s,e,o),bt=()=>j(()=>Gn({})),_o=s=>j(e=>es($,e)?Un(e):0,s),de=()=>j(()=>{Fn({}),t=!1}),cn=()=>j(()=>{Pn({}),n=!1}),Fo=()=>j(()=>{de(),cn()}),rn=(s,e)=>{if(a!=-1){Te();let o=s();return Le(e),o}},Te=()=>(a!=-1&&a++,a==1&&(d[0]?.(),b(k)),ss),Po=()=>[fs(f,(s,e)=>g(L,e)===-1?void 0:fs(s,(o,i)=>g(g(p,e),i)===-1?void 0:fs(o,([,l])=>l,l=>kt(l)),y,Rs),y,Rs),fs(R,([,s])=>s,s=>kt(s)),1],Ao=()=>[!y(f),!y(R),Bt(f,Je,kt),Bt(N),fs(R,Je,kt),fs(m),fs(L),Sn(p),Bt(E),fs(u)],Le=s=>(a>0&&(a--,a==0&&(a=1,Qn(1),y(f)||In(1),Xn(1),y(R)||se(1),s?.(ss)&&(M(f,(e,o)=>M(e,(i,l)=>M(i,([h],T)=>Ue(ss,o,l,T,h)))),Tn(f),M(R,([e],o)=>ke(ss,o,e)),Tn(R)),b(rs[0],void 0),a=-1,Qn(0),y(f)||In(0),Xn(0),y(R)||se(0),d[1]?.(),b(rs[1],void 0),d[2]?.(),a=0,c=Ht(),r=_t(),yt([L,A,K,p,E,f,N,u,R,m],Tn))),ss),ss={getContent:ao,getTables:tn,getTableIds:us,getTable:fo,getTableCellIds:ne,getRowCount:ee,getRowIds:Xs,getSortedRowIds:xt,getRow:ho,getCellIds:nn,getCell:wt,getValues:en,getValueIds:on,getValue:Dt,hasTables:Ht,hasTable:oe,hasTableCell:ce,hasRow:ie,hasCell:re,hasValues:_t,hasValue:le,getTablesJson:go,getValuesJson:uo,getJson:To,getTablesSchemaJson:Lo,getValuesSchemaJson:Eo,getSchemaJson:So,hasTablesSchema:()=>t,hasValuesSchema:()=>n,setContent:po,setTables:Ft,setTable:Co,setRow:yo,addRow:Ro,setPartialRow:mo,setCell:Vo,setValues:Pt,setPartialValues:No,setValue:Mo,applyChanges:vo,setTablesJson:ae,setValuesJson:xo,setJson:wo,setTablesSchema:fe,setValuesSchema:he,setSchema:Do,delTables:At,delTable:ge,delRow:ue,delCell:Ho,delValues:bt,delValue:_o,delTablesSchema:de,delValuesSchema:cn,delSchema:Fo,transaction:rn,startTransaction:Te,getTransactionChanges:Po,getTransactionLog:Ao,finishTransaction:Le,forEachTable:s=>M(v,(e,o)=>s(o,i=>M(e,(l,h)=>i(h,T=>Ys(l,T))))),forEachTableCell:(s,e)=>Ys(g(Vs,H(s)),e),forEachRow:(s,e)=>M(g(v,H(s)),(o,i)=>e(i,l=>Ys(o,l))),forEachCell:(s,e,o)=>Ys(g(g(v,H(s)),H(e)),o),forEachValue:s=>Ys($,s),addSortedRowIdsListener:(s,e,o,i,l,h,T)=>Xt(s)?te(s.tableId,s.cellId,[s.descending??!1,s.offset??0,s.limit],e,o):te(s,e,[o,i,l],h,T),addStartTransactionListener:s=>ls(s,k),addWillFinishTransactionListener:s=>ls(s,rs[0]),addDidFinishTransactionListener:s=>ls(s,rs[1]),callListener:s=>(as(s),ss),delListener:s=>(Os(s),ss),getListenerStats:()=>({hasTables:G(it),tables:G(C),tableIds:G(z),hasTable:G(os),table:G(Z),tableCellIds:G(S),hasTableCell:G(P,Et),rowCount:G(O),rowIds:G(Q),sortedRowIds:G(cs),hasRow:G(Es,Et),row:G(gs,Et),cellIds:G(F,Et),hasCell:G(q,dn),cell:G(X,dn),invalidCell:G(ps,dn),hasValues:G(Ns),values:G(ys),valueIds:G(Ms),hasValue:G(vs),value:G(is),invalidValue:G(Ss),transaction:mn(k)+G(rs)}),isMergeable:()=>!1,createStore:Vn,addListener:ls,callListeners:b,setInternalListeners:(s,e,o,i,l)=>d=[s,e,o,i,l]};return Ws({[Ks+Ge]:[0,it,[],()=>[Ht()]],[Ge]:[0,C],[uc]:[0,z],[Ks+ot]:[1,os,[us],s=>[oe(...s)]],[ot]:[1,Z,[us]],[ot+We]:[1,S,[us]],[Ks+ot+qt]:[2,P,[us,ne],s=>[ce(...s)]],[dc]:[1,O,[us]],[Tc]:[1,Q,[us]],[Ks+Jt]:[2,Es,[us,Xs],s=>[ie(...s)]],[Jt]:[2,gs,[us,Xs]],[We]:[2,F,[us,Xs]],[Ks+qt]:[3,q,[us,Xs,nn],s=>[re(...s)]],[qt]:[3,X,[us,Xs,nn],s=>Ut(wt(...s))],InvalidCell:[3,ps],[Ks+Ye]:[0,Ns,[],()=>[_t()]],[Ye]:[0,ys],[Lc]:[0,Ms],[Ks+Kt]:[1,vs,[on],s=>[le(...s)]],[Kt]:[1,is,[on],s=>Ut(Dt(s[0]))],InvalidValue:[1,Ss]},([s,e,o,i],l)=>{ss[gc+l+hc]=(...h)=>ls(h[s],e[h[s+1]?1:0],s>0?Be(h,0,s):void 0,o,i)}),Dc(ss)};var Yc=["id","ids","add","api","del","get","set","use"],no=(t=!1)=>{addEventListener("load",()=>{let n=Ds("body > header > nav");if(n==null)return;let c=ts("div",null,{id:"search"}),r=ts("input",c,{type:"text",placeholder:(navigator.platform.startsWith("Mac")?"\u2318":"cmd-")+"K Search"}),a=ts("ol",c),d=ts("li",a,{},"No results found"),L=Vn(),A=je(L);A.setIndexDefinition("p","p",f=>{let u=[];return f("t").split(" ").forEach(R=>{for(let N=0;N<R.length;N++)u.push(R.slice(0,N+1))}),u},"t",void 0,(f,u,R)=>Mn(u,R)-Mn(f,R)),fetch("/pages.json").then(f=>f.json()).then(f=>{L.transaction(()=>{L.setContent(f),L.forEachRow("p",u=>{let{n:R,s:N}=L.getRow("p",u),m=new Set;Nn(u,m,!0),Nn(R,m),Nn(N,m),L.setCell("p",u,"t",Array.from(m.values()).join(" "))})}),K()});let K=()=>{n.prepend(c);let f=()=>(r.value?ks:ft)(a,"show");r.addEventListener("focus",f),r.addEventListener("input",()=>{f(),p()}),r.addEventListener("blur",()=>ft(a,"show")),E()},p=()=>{let f=r.value.toLowerCase().split(/[^a-z0-9]+/),u=new Map;f.forEach(m=>A.getSliceRowIds("p",m).slice(0,50).forEach(D=>u.set(D,(u.get(D)??0)+Mn(L.getCell("p",D,"t"),m))));let R=Array.from(u.keys()).sort((m,D)=>u.get(D)-u.get(m)).slice(0,10),N=R.length==0?[d]:R.map((m,D)=>{let U=ts("li"),{n:Ts,s:Ls}=L.getRow("p",m);return so(ts("b",U),Ts,f[0]),so(ts("span",U),Ls,f[0]),U.title=Ls,U.addEventListener("mousedown",()=>t?location.href=m:Re(m)),D==0&&ks(U,"hover"),U});a.replaceChildren(...N)},E=()=>addEventListener("keydown",f=>{if(st.activeElement==r){let u=Is(a,".hover");switch(f.code){case"Escape":return r.blur();case"ArrowDown":return Gt(f),to(u,u?.nextSibling??a.firstChild);case"ArrowUp":return Gt(f),to(u,u?.previousSibling??a.lastChild);case"Enter":return u?.dispatchEvent(new MouseEvent("mousedown"))}}else f.code=="KeyK"&&f.metaKey&&(r.focus(),Gt(f))})})},so=(t,n,c)=>{let r=n.toLowerCase().indexOf(c);t.innerHTML=r==-1?n:n.substring(0,r)+"<em>"+n.substring(r,r+c.length)+"</em>"+n.substring(r+c.length)},to=(t,n)=>{t!=n&&(t&&ft(t,"hover"),n&&(ks(n,"hover"),n.scrollIntoView({block:"nearest",inline:"nearest"})))},Nn=(t,n,c)=>{let r=t.replaceAll(/[^a-zA-Z0-9]/g," ").split(/\s+/);c&&r.reverse(),r.forEach(a=>{[a,...a.replaceAll(/([a-z])([A-Z])/g,"$1 $2").split(" ")].forEach(d=>{let L=d.toLowerCase();(L.length>3||Yc.includes(L))&&n.add(L)})})},Mn=(t,n)=>{let c=t.length,r=t.indexOf(n);return r===-1?0:(c-r)/c};pe();Ve();no(!0);})();
